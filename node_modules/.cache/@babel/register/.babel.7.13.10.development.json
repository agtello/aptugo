{"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const dotenv = require('dotenv');\ndotenv.config({\n  path: './config/.env.development'\n});\nconst fs = require('fs');\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst fileupload = require('express-fileupload');\nconst app = express();\napp.set('filesFolder', __dirname + '/../dist/img');\napp.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, XMLHttpRequest, authorization, *');\n  res.header('Access-Control-Allow-Methods', '*');\n  next();\n});\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\napp.use(bodyParser.json({\n  limit: '10mb'\n}));\napp.use(fileupload());\napp.all('*', checkReq);\nfunction checkReq(req, res, next) {\n  if (req.files) {\n    const keys = Object.keys(req.files);\n    keys.forEach(key => {\n      const regex = /(.*)\\[([0-9]*)\\]/gm;\n      let m = regex.exec(key);\n      if (m) {\n        if (m[2] === '0') {\n          req.body[m[1]] = [];\n          req.files[m[1]] = [];\n        }\n        req.body[m[1]].push(req.files[key]);\n        req.files[m[1]].push(req.files[key]);\n        delete req.files[key];\n      }\n    });\n  }\n  next();\n}\nconst dbConfig = require('./config/database.config.js');\nconst mongoose = require('mongoose');\nmongoose.Promise = global.Promise;\n\n// Connecting to the database\nmongoose.set('strictQuery', false);\nmongoose.connect(dbConfig.url, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => {\n  console.log('Successfully connected to the database');\n}).catch(err => {\n  console.log('Could not connect to the database. Exiting now...', err);\n  // process.exit();\n});\n\nrequire('./app/routes/apiRoutes.js')(app);\nrequire('./app/routes/suscripciones.routes.js')(app);\napp.use('/images', express.static(__dirname + '/../dist/img'));\nlet tries = 0;\nfunction doListen() {\n  const port = 4567;\n  const server = app.listen(port, '0.0.0.0').on('listening', () => {\n    console.log(`Aptugo app listening on port ${port}!`);\n  }).on('error', err => {\n    if (err.errno === 'EADDRINUSE') {\n      if (tries < 3) {\n        console.log('Port busy, waiting a couple of seconds...');\n        tries++;\n        setTimeout(doListen, 2000);\n      } else {\n        console.log('Tired of waiting, will kill the process...');\n        exec(`kill -9 $(lsof -t -i:${port})`);\n        setTimeout(doListen, 2000);\n      }\n    } else {\n      console.log(err);\n    }\n  }).on('connection', conn => {\n    console.log('connection');\n  });\n}\ndoListen();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJyZXF1aXJlIiwiY29uZmlnIiwicGF0aCIsImZzIiwiZXhwcmVzcyIsImJvZHlQYXJzZXIiLCJmaWxldXBsb2FkIiwiYXBwIiwic2V0IiwiX19kaXJuYW1lIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJsaW1pdCIsImFsbCIsImNoZWNrUmVxIiwiZmlsZXMiLCJrZXlzIiwiT2JqZWN0IiwiZm9yRWFjaCIsImtleSIsInJlZ2V4IiwibSIsImV4ZWMiLCJib2R5IiwicHVzaCIsImRiQ29uZmlnIiwibW9uZ29vc2UiLCJQcm9taXNlIiwiZ2xvYmFsIiwiY29ubmVjdCIsInVybCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJzdGF0aWMiLCJ0cmllcyIsImRvTGlzdGVuIiwicG9ydCIsInNlcnZlciIsImxpc3RlbiIsIm9uIiwiZXJybm8iLCJzZXRUaW1lb3V0IiwiY29ubiJdLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2by9BcHR1Z28vYnVpbGRzL3N1c2NyaXBjaW9uY29wcmludGVyL2JhY2stZW5kLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52JylcbmRvdGVudi5jb25maWcoeyBwYXRoOiAnLi9jb25maWcvLmVudi5kZXZlbG9wbWVudCcgfSlcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKVxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJylcbmNvbnN0IGZpbGV1cGxvYWQgPSByZXF1aXJlKCdleHByZXNzLWZpbGV1cGxvYWQnKVxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5hcHAuc2V0KCdmaWxlc0ZvbGRlcicsIF9fZGlybmFtZSArICcvLi4vZGlzdC9pbWcnKVxuYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKVxuICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQsIFhNTEh0dHBSZXF1ZXN0LCBhdXRob3JpemF0aW9uLCAqJylcbiAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICcqJylcbiAgbmV4dCgpXG59KVxuXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSlcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKHsgbGltaXQ6ICcxMG1iJyB9KSlcbmFwcC51c2UoZmlsZXVwbG9hZCgpKVxuYXBwLmFsbCgnKicsIGNoZWNrUmVxKVxuZnVuY3Rpb24gY2hlY2tSZXEocmVxLCByZXMsIG5leHQpIHtcbiAgaWYgKHJlcS5maWxlcykge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZXEuZmlsZXMpXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gLyguKilcXFsoWzAtOV0qKVxcXS9nbVxuICAgICAgbGV0IG0gPSByZWdleC5leGVjKGtleSlcbiAgICAgIGlmIChtKSB7XG4gICAgICAgIGlmIChtWzJdID09PSAnMCcpIHtcbiAgICAgICAgICByZXEuYm9keVttWzFdXSA9IFtdXG4gICAgICAgICAgcmVxLmZpbGVzW21bMV1dID0gW11cbiAgICAgICAgfVxuICAgICAgICByZXEuYm9keVttWzFdXS5wdXNoKHJlcS5maWxlc1trZXldKVxuICAgICAgICByZXEuZmlsZXNbbVsxXV0ucHVzaChyZXEuZmlsZXNba2V5XSlcbiAgICAgICAgZGVsZXRlIHJlcS5maWxlc1trZXldXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBuZXh0KClcbn1cblxuY29uc3QgZGJDb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy9kYXRhYmFzZS5jb25maWcuanMnKVxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5cbm1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZVxuXG4vLyBDb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZVxubW9uZ29vc2Uuc2V0KCdzdHJpY3RRdWVyeScsIGZhbHNlKVxubW9uZ29vc2VcbiAgLmNvbm5lY3QoZGJDb25maWcudXJsLCB7XG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgfSlcbiAgLnRoZW4oKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZScpXG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0NvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZS4gRXhpdGluZyBub3cuLi4nLCBlcnIpXG4gICAgLy8gcHJvY2Vzcy5leGl0KCk7XG4gIH0pXG5cbnJlcXVpcmUoJy4vYXBwL3JvdXRlcy9hcGlSb3V0ZXMuanMnKShhcHApXG5yZXF1aXJlKCcuL2FwcC9yb3V0ZXMvc3VzY3JpcGNpb25lcy5yb3V0ZXMuanMnKShhcHApXG5cbmFwcC51c2UoJy9pbWFnZXMnLCBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnLy4uL2Rpc3QvaW1nJykpXG5cbmxldCB0cmllcyA9IDBcblxuZnVuY3Rpb24gZG9MaXN0ZW4oKSB7XG4gIGNvbnN0IHBvcnQgPSA0NTY3XG4gIGNvbnN0IHNlcnZlciA9IGFwcFxuICAgIC5saXN0ZW4ocG9ydCwgJzAuMC4wLjAnKVxuICAgIC5vbignbGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEFwdHVnbyBhcHAgbGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fSFgKVxuICAgIH0pXG4gICAgLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIuZXJybm8gPT09ICdFQUREUklOVVNFJykge1xuICAgICAgICBpZiAodHJpZXMgPCAzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BvcnQgYnVzeSwgd2FpdGluZyBhIGNvdXBsZSBvZiBzZWNvbmRzLi4uJylcbiAgICAgICAgICB0cmllcysrXG4gICAgICAgICAgc2V0VGltZW91dChkb0xpc3RlbiwgMjAwMClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVGlyZWQgb2Ygd2FpdGluZywgd2lsbCBraWxsIHRoZSBwcm9jZXNzLi4uJylcbiAgICAgICAgICBleGVjKGBraWxsIC05ICQobHNvZiAtdCAtaToke3BvcnR9KWApXG4gICAgICAgICAgc2V0VGltZW91dChkb0xpc3RlbiwgMjAwMClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdjb25uZWN0aW9uJywgKGNvbm4pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uJylcbiAgICB9KVxufVxuXG5kb0xpc3RlbigpXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQ0QsTUFBTSxDQUFDRSxNQUFNLENBQUM7RUFBRUMsSUFBSSxFQUFFO0FBQTRCLENBQUMsQ0FBQztBQUNwRCxNQUFNQyxFQUFFLEdBQUdILE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsTUFBTUksT0FBTyxHQUFHSixPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1LLFVBQVUsR0FBR0wsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUN6QyxNQUFNTSxVQUFVLEdBQUdOLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUNoRCxNQUFNTyxH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","map":{"version":3,"names":["dotenv","require","config","path","fs","express","bodyParser","fileupload","app","set","__dirname","use","req","res","next","header","urlencoded","extended","json","limit","all","checkReq","files","keys","Object","forEach","key","regex","m","exec","body","push","dbConfig","mongoose","Promise","global","connect","url","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","static","tries","doListen","port","server","listen","on","errno","setTimeout","conn"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/","sources":["index.js"],"sourcesContent":["const dotenv = require('dotenv')\ndotenv.config({ path: './config/.env.development' })\nconst fs = require('fs')\nconst express = require('express')\nconst bodyParser = require('body-parser')\nconst fileupload = require('express-fileupload')\nconst app = express()\napp.set('filesFolder', __dirname + '/../dist/img')\napp.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*')\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, XMLHttpRequest, authorization, *')\n  res.header('Access-Control-Allow-Methods', '*')\n  next()\n})\n\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(bodyParser.json({ limit: '10mb' }))\napp.use(fileupload())\napp.all('*', checkReq)\nfunction checkReq(req, res, next) {\n  if (req.files) {\n    const keys = Object.keys(req.files)\n    keys.forEach((key) => {\n      const regex = /(.*)\\[([0-9]*)\\]/gm\n      let m = regex.exec(key)\n      if (m) {\n        if (m[2] === '0') {\n          req.body[m[1]] = []\n          req.files[m[1]] = []\n        }\n        req.body[m[1]].push(req.files[key])\n        req.files[m[1]].push(req.files[key])\n        delete req.files[key]\n      }\n    })\n  }\n  next()\n}\n\nconst dbConfig = require('./config/database.config.js')\nconst mongoose = require('mongoose')\n\nmongoose.Promise = global.Promise\n\n// Connecting to the database\nmongoose.set('strictQuery', false)\nmongoose\n  .connect(dbConfig.url, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  })\n  .then(() => {\n    console.log('Successfully connected to the database')\n  })\n  .catch((err) => {\n    console.log('Could not connect to the database. Exiting now...', err)\n    // process.exit();\n  })\n\nrequire('./app/routes/apiRoutes.js')(app)\nrequire('./app/routes/suscripciones.routes.js')(app)\n\napp.use('/images', express.static(__dirname + '/../dist/img'))\n\nlet tries = 0\n\nfunction doListen() {\n  const port = 4567\n  const server = app\n    .listen(port, '0.0.0.0')\n    .on('listening', () => {\n      console.log(`Aptugo app listening on port ${port}!`)\n    })\n    .on('error', (err) => {\n      if (err.errno === 'EADDRINUSE') {\n        if (tries < 3) {\n          console.log('Port busy, waiting a couple of seconds...')\n          tries++\n          setTimeout(doListen, 2000)\n        } else {\n          console.log('Tired of waiting, will kill the process...')\n          exec(`kill -9 $(lsof -t -i:${port})`)\n          setTimeout(doListen, 2000)\n        }\n      } else {\n        console.log(err)\n      }\n    })\n    .on('connection', (conn) => {\n      console.log('connection')\n    })\n}\n\ndoListen()\n"],"mappings":"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"}},"mtime":1691454548109},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/config/database.config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"// Database connection string\nmodule.exports = {\n  url: 'mongodb://127.0.0.1:27017/suscripcioncoprinter'\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXJsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ndXN0YXZvL0FwdHVnby9idWlsZHMvc3VzY3JpcGNpb25jb3ByaW50ZXIvYmFjay1lbmQvY29uZmlnLyIsInNvdXJjZXMiOlsiZGF0YWJhc2UuY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIERhdGFiYXNlIGNvbm5lY3Rpb24gc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdXJsOiAnbW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9zdXNjcmlwY2lvbmNvcHJpbnRlcicsXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZDLEdBQUcsRUFBRTtBQUNQLENBQUMifQ==","map":{"version":3,"names":["module","exports","url"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/config/","sources":["database.config.js"],"sourcesContent":["// Database connection string\nmodule.exports = {\n  url: 'mongodb://127.0.0.1:27017/suscripcioncoprinter',\n}\n"],"mappings":"AAAA;AACAA,MAAM,CAACC,OAAO,GAAG;EACfC,GAAG,EAAE;AACP,CAAC"}},"mtime":1691454530321},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/apiRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const axios = require('axios');\nconst memCache = require('./../services/memCache.service.js');\nmodule.exports = app => {\n  app.get('/api/apicall/:url/:cachetimeout?', (req, res, next) => {\n    const mc = new memCache();\n    const url = req.params.url;\n    var data = mc.getMemCache(url, req.params.cachetimeout || 10080);\n    if (!data) {\n      axios.get(url).then(result => {\n        mc.save(url, result.data);\n        res.json(result.data);\n      });\n    } else {\n      res.json(JSON.parse(data));\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJtZW1DYWNoZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcHAiLCJnZXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwibWMiLCJ1cmwiLCJwYXJhbXMiLCJkYXRhIiwiZ2V0TWVtQ2FjaGUiLCJjYWNoZXRpbWVvdXQiLCJ0aGVuIiwicmVzdWx0Iiwic2F2ZSIsImpzb24iLCJKU09OIiwicGFyc2UiXSwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm8vQXB0dWdvL2J1aWxkcy9zdXNjcmlwY2lvbmNvcHJpbnRlci9iYWNrLWVuZC9hcHAvcm91dGVzLyIsInNvdXJjZXMiOlsiYXBpUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKVxuY29uc3QgbWVtQ2FjaGUgPSByZXF1aXJlKCcuLy4uL3NlcnZpY2VzL21lbUNhY2hlLnNlcnZpY2UuanMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChhcHApID0+IHtcbiAgYXBwLmdldCgnL2FwaS9hcGljYWxsLzp1cmwvOmNhY2hldGltZW91dD8nLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBtYyA9IG5ldyBtZW1DYWNoZSgpXG4gICAgY29uc3QgdXJsID0gcmVxLnBhcmFtcy51cmxcbiAgICB2YXIgZGF0YSA9IG1jLmdldE1lbUNhY2hlKHVybCwgcmVxLnBhcmFtcy5jYWNoZXRpbWVvdXQgfHwgMTAwODApXG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICBheGlvcy5nZXQodXJsKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgbWMuc2F2ZSh1cmwsIHJlc3VsdC5kYXRhKVxuICAgICAgICByZXMuanNvbihyZXN1bHQuZGF0YSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5qc29uKEpTT04ucGFyc2UoZGF0YSkpXG4gICAgfVxuICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUIsTUFBTUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsbUNBQW1DLENBQUM7QUFFN0RFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFJQyxHQUFHLElBQUs7RUFDeEJBLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGtDQUFrQyxFQUFFLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDOUQsTUFBTUMsRUFBRSxHQUFHLElBQUlSLFFBQVEsQ0FBQyxDQUFDO0lBQ3pCLE1BQU1TLEdBQUcsR0FBR0osR0FBRyxDQUFDSyxNQUFNLENBQUNELEdBQUc7SUFDMUIsSUFBSUUsSUFBSSxHQUFHSCxFQUFFLENBQUNJLFdBQVcsQ0FBQ0gsR0FBRyxFQUFFSixHQUFHLENBQUNLLE1BQU0sQ0FBQ0csWUFBWSxJQUFJLEtBQUssQ0FBQztJQUNoRSxJQUFJLENBQUNGLElBQUksRUFBRTtNQUNUYixLQUFLLENBQUNNLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDLENBQUNLLElBQUksQ0FBRUMsTUFBTSxJQUFLO1FBQzlCUCxFQUFFLENBQUNRLElBQUksQ0FBQ1AsR0FBRyxFQUFFTSxNQUFNLENBQUNKLElBQUksQ0FBQztRQUN6QkwsR0FBRyxDQUFDVyxJQUFJLENBQUNGLE1BQU0sQ0FBQ0osSUFBSSxDQUFDO01BQ3ZCLENBQUMsQ0FBQztJQUNKLENBQUMsTUFBTTtNQUNMTCxHQUFHLENBQUNXLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNSLElBQUksQ0FBQyxDQUFDO0lBQzVCO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["axios","require","memCache","module","exports","app","get","req","res","next","mc","url","params","data","getMemCache","cachetimeout","then","result","save","json","JSON","parse"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/","sources":["apiRoutes.js"],"sourcesContent":["const axios = require('axios')\nconst memCache = require('./../services/memCache.service.js')\n\nmodule.exports = (app) => {\n  app.get('/api/apicall/:url/:cachetimeout?', (req, res, next) => {\n    const mc = new memCache()\n    const url = req.params.url\n    var data = mc.getMemCache(url, req.params.cachetimeout || 10080)\n    if (!data) {\n      axios.get(url).then((result) => {\n        mc.save(url, result.data)\n        res.json(result.data)\n      })\n    } else {\n      res.json(JSON.parse(data))\n    }\n  })\n}\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAMC,QAAQ,GAAGD,OAAO,CAAC,mCAAmC,CAAC;AAE7DE,MAAM,CAACC,OAAO,GAAIC,GAAG,IAAK;EACxBA,GAAG,CAACC,GAAG,CAAC,kCAAkC,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAC9D,MAAMC,EAAE,GAAG,IAAIR,QAAQ,CAAC,CAAC;IACzB,MAAMS,GAAG,GAAGJ,GAAG,CAACK,MAAM,CAACD,GAAG;IAC1B,IAAIE,IAAI,GAAGH,EAAE,CAACI,WAAW,CAACH,GAAG,EAAEJ,GAAG,CAACK,MAAM,CAACG,YAAY,IAAI,KAAK,CAAC;IAChE,IAAI,CAACF,IAAI,EAAE;MACTb,KAAK,CAACM,GAAG,CAACK,GAAG,CAAC,CAACK,IAAI,CAAEC,MAAM,IAAK;QAC9BP,EAAE,CAACQ,IAAI,CAACP,GAAG,EAAEM,MAAM,CAACJ,IAAI,CAAC;QACzBL,GAAG,CAACW,IAAI,CAACF,MAAM,CAACJ,IAAI,CAAC;MACvB,CAAC,CAAC;IACJ,CAAC,MAAM;MACLL,GAAG,CAACW,IAAI,CAACC,IAAI,CAACC,KAAK,CAACR,IAAI,CAAC,CAAC;IAC5B;EACF,CAAC,CAAC;AACJ,CAAC"}},"mtime":1691454547833},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/services/memCache.service.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const hash = require('node_hash');\nconst fs = require('fs');\nmodule.exports = class memCache {\n  getMemCache(url, timeout) {\n    const file = hash.md5(url);\n    if (fs.existsSync(__dirname + '/cache/' + file)) {\n      var stats = fs.statSync(__dirname + '/cache/' + file);\n      let minutes = (new Date().getTime() - stats.mtime) / 1000 / 60;\n      if (minutes > timeout) {\n        return null;\n      } else {\n        return fs.readFileSync(__dirname + '/cache/' + file);\n      }\n    } else {\n      return null;\n    }\n  }\n  save(url, contents, binary = false) {\n    const file = hash.md5(url);\n    if (!fs.existsSync(__dirname + '/cache/')) {\n      fs.mkdirSync(__dirname + '/cache');\n    }\n    if (!binary) {\n      fs.writeFileSync(__dirname + '/cache/' + file, JSON.stringify(contents), {\n        flag: 'w'\n      });\n    } else {\n      fs.writeFileSync(__dirname + '/cache/' + file, contents, {\n        flag: 'w'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoYXNoIiwicmVxdWlyZSIsImZzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1lbUNhY2hlIiwiZ2V0TWVtQ2FjaGUiLCJ1cmwiLCJ0aW1lb3V0IiwiZmlsZSIsIm1kNSIsImV4aXN0c1N5bmMiLCJfX2Rpcm5hbWUiLCJzdGF0cyIsInN0YXRTeW5jIiwibWludXRlcyIsIkRhdGUiLCJnZXRUaW1lIiwibXRpbWUiLCJyZWFkRmlsZVN5bmMiLCJzYXZlIiwiY29udGVudHMiLCJiaW5hcnkiLCJta2RpclN5bmMiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsImZsYWciXSwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm8vQXB0dWdvL2J1aWxkcy9zdXNjcmlwY2lvbmNvcHJpbnRlci9iYWNrLWVuZC9hcHAvc2VydmljZXMvIiwic291cmNlcyI6WyJtZW1DYWNoZS5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGhhc2ggPSByZXF1aXJlKCdub2RlX2hhc2gnKVxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgbWVtQ2FjaGUge1xuICBnZXRNZW1DYWNoZSh1cmwsIHRpbWVvdXQpIHtcbiAgICBjb25zdCBmaWxlID0gaGFzaC5tZDUodXJsKVxuICAgIGlmIChmcy5leGlzdHNTeW5jKF9fZGlybmFtZSArICcvY2FjaGUvJyArIGZpbGUpKSB7XG4gICAgICB2YXIgc3RhdHMgPSBmcy5zdGF0U3luYyhfX2Rpcm5hbWUgKyAnL2NhY2hlLycgKyBmaWxlKVxuICAgICAgbGV0IG1pbnV0ZXMgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGF0cy5tdGltZSkgLyAxMDAwIC8gNjBcbiAgICAgIGlmIChtaW51dGVzID4gdGltZW91dCkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnL2NhY2hlLycgKyBmaWxlKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNhdmUodXJsLCBjb250ZW50cywgYmluYXJ5ID0gZmFsc2UpIHtcbiAgICBjb25zdCBmaWxlID0gaGFzaC5tZDUodXJsKVxuICAgIGlmICghZnMuZXhpc3RzU3luYyhfX2Rpcm5hbWUgKyAnL2NhY2hlLycpKSB7XG4gICAgICBmcy5ta2RpclN5bmMoX19kaXJuYW1lICsgJy9jYWNoZScpXG4gICAgfVxuICAgIGlmICghYmluYXJ5KSB7XG4gICAgICBmcy53cml0ZUZpbGVTeW5jKF9fZGlybmFtZSArICcvY2FjaGUvJyArIGZpbGUsIEpTT04uc3RyaW5naWZ5KGNvbnRlbnRzKSwgeyBmbGFnOiAndycgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgZnMud3JpdGVGaWxlU3luYyhfX2Rpcm5hbWUgKyAnL2NhY2hlLycgKyBmaWxlLCBjb250ZW50cywgeyBmbGFnOiAndycgfSlcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ2pDLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLElBQUksQ0FBQztBQUV4QkUsTUFBTSxDQUFDQyxPQUFPLEdBQUcsTUFBTUMsUUFBUSxDQUFDO0VBQzlCQyxXQUFXQSxDQUFDQyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtJQUN4QixNQUFNQyxJQUFJLEdBQUdULElBQUksQ0FBQ1UsR0FBRyxDQUFDSCxHQUFHLENBQUM7SUFDMUIsSUFBSUwsRUFBRSxDQUFDUyxVQUFVLENBQUNDLFNBQVMsR0FBRyxTQUFTLEdBQUdILElBQUksQ0FBQyxFQUFFO01BQy9DLElBQUlJLEtBQUssR0FBR1gsRUFBRSxDQUFDWSxRQUFRLENBQUNGLFNBQVMsR0FBRyxTQUFTLEdBQUdILElBQUksQ0FBQztNQUNyRCxJQUFJTSxPQUFPLEdBQUcsQ0FBQyxJQUFJQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHSixLQUFLLENBQUNLLEtBQUssSUFBSSxJQUFJLEdBQUcsRUFBRTtNQUM5RCxJQUFJSCxPQUFPLEdBQUdQLE9BQU8sRUFBRTtRQUNyQixPQUFPLElBQUk7TUFDYixDQUFDLE1BQU07UUFDTCxPQUFPTixFQUFFLENBQUNpQixZQUFZLENBQUNQLFNBQVMsR0FBRyxTQUFTLEdBQUdILElBQUksQ0FBQztNQUN0RDtJQUNGLENBQUMsTUFBTTtNQUNMLE9BQU8sSUFBSTtJQUNiO0VBQ0Y7RUFFQVcsSUFBSUEsQ0FBQ2IsR0FBRyxFQUFFYyxRQUFRLEVBQUVDLE1BQU0sR0FBRyxLQUFLLEVBQUU7SUFDbEMsTUFBTWIsSUFBSSxHQUFHVCxJQUFJLENBQUNVLEdBQUcsQ0FBQ0gsR0FBRyxDQUFDO0lBQzFCLElBQUksQ0FBQ0wsRUFBRSxDQUFDUyxVQUFVLENBQUNDLFNBQVMsR0FBRyxTQUFTLENBQUMsRUFBRTtNQUN6Q1YsRUFBRSxDQUFDcUIsU0FBUyxDQUFDWCxTQUFTLEdBQUcsUUFBUSxDQUFDO0lBQ3BDO0lBQ0EsSUFBSSxDQUFDVSxNQUFNLEVBQUU7TUFDWHBCLEVBQUUsQ0FBQ3NCLGFBQWEsQ0FBQ1osU0FBUyxHQUFHLFNBQVMsR0FBR0gsSUFBSSxFQUFFZ0IsSUFBSSxDQUFDQyxTQUFTLENBQUNMLFFBQVEsQ0FBQyxFQUFFO1FBQUVNLElBQUksRUFBRTtNQUFJLENBQUMsQ0FBQztJQUN6RixDQUFDLE1BQU07TUFDTHpCLEVBQUUsQ0FBQ3NCLGFBQWEsQ0FBQ1osU0FBUyxHQUFHLFNBQVMsR0FBR0gsSUFBSSxFQUFFWSxRQUFRLEVBQUU7UUFBRU0sSUFBSSxFQUFFO01BQUksQ0FBQyxDQUFDO0lBQ3pFO0VBQ0Y7QUFDRixDQUFDIn0=","map":{"version":3,"names":["hash","require","fs","module","exports","memCache","getMemCache","url","timeout","file","md5","existsSync","__dirname","stats","statSync","minutes","Date","getTime","mtime","readFileSync","save","contents","binary","mkdirSync","writeFileSync","JSON","stringify","flag"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/services/","sources":["memCache.service.js"],"sourcesContent":["const hash = require('node_hash')\nconst fs = require('fs')\n\nmodule.exports = class memCache {\n  getMemCache(url, timeout) {\n    const file = hash.md5(url)\n    if (fs.existsSync(__dirname + '/cache/' + file)) {\n      var stats = fs.statSync(__dirname + '/cache/' + file)\n      let minutes = (new Date().getTime() - stats.mtime) / 1000 / 60\n      if (minutes > timeout) {\n        return null\n      } else {\n        return fs.readFileSync(__dirname + '/cache/' + file)\n      }\n    } else {\n      return null\n    }\n  }\n\n  save(url, contents, binary = false) {\n    const file = hash.md5(url)\n    if (!fs.existsSync(__dirname + '/cache/')) {\n      fs.mkdirSync(__dirname + '/cache')\n    }\n    if (!binary) {\n      fs.writeFileSync(__dirname + '/cache/' + file, JSON.stringify(contents), { flag: 'w' })\n    } else {\n      fs.writeFileSync(__dirname + '/cache/' + file, contents, { flag: 'w' })\n    }\n  }\n}\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,WAAW,CAAC;AACjC,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAI,CAAC;AAExBE,MAAM,CAACC,OAAO,GAAG,MAAMC,QAAQ,CAAC;EAC9BC,WAAWA,CAACC,GAAG,EAAEC,OAAO,EAAE;IACxB,MAAMC,IAAI,GAAGT,IAAI,CAACU,GAAG,CAACH,GAAG,CAAC;IAC1B,IAAIL,EAAE,CAACS,UAAU,CAACC,SAAS,GAAG,SAAS,GAAGH,IAAI,CAAC,EAAE;MAC/C,IAAII,KAAK,GAAGX,EAAE,CAACY,QAAQ,CAACF,SAAS,GAAG,SAAS,GAAGH,IAAI,CAAC;MACrD,IAAIM,OAAO,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAGJ,KAAK,CAACK,KAAK,IAAI,IAAI,GAAG,EAAE;MAC9D,IAAIH,OAAO,GAAGP,OAAO,EAAE;QACrB,OAAO,IAAI;MACb,CAAC,MAAM;QACL,OAAON,EAAE,CAACiB,YAAY,CAACP,SAAS,GAAG,SAAS,GAAGH,IAAI,CAAC;MACtD;IACF,CAAC,MAAM;MACL,OAAO,IAAI;IACb;EACF;EAEAW,IAAIA,CAACb,GAAG,EAAEc,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAE;IAClC,MAAMb,IAAI,GAAGT,IAAI,CAACU,GAAG,CAACH,GAAG,CAAC;IAC1B,IAAI,CAACL,EAAE,CAACS,UAAU,CAACC,SAAS,GAAG,SAAS,CAAC,EAAE;MACzCV,EAAE,CAACqB,SAAS,CAACX,SAAS,GAAG,QAAQ,CAAC;IACpC;IACA,IAAI,CAACU,MAAM,EAAE;MACXpB,EAAE,CAACsB,aAAa,CAACZ,SAAS,GAAG,SAAS,GAAGH,IAAI,EAAEgB,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,EAAE;QAAEM,IAAI,EAAE;MAAI,CAAC,CAAC;IACzF,CAAC,MAAM;MACLzB,EAAE,CAACsB,aAAa,CAACZ,SAAS,GAAG,SAAS,GAAGH,IAAI,EAAEY,QAAQ,EAAE;QAAEM,IAAI,EAAE;MAAI,CAAC,CAAC;IACzE;EACF;AACF,CAAC"}},"mtime":1691454529933},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/suscripcion.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"module.exports = app => {\n  const suscripcion = require('../controllers/suscripcion.controller.js');\n\n  // Get all records\n  app.get('/api/suscripcion', (req, res) => {\n    suscripcion.findAll({\n      req,\n      res\n    });\n  });\n\n  // Search records\n  app.get('/api/suscripcion/search', (req, res) => {\n    suscripcion.find({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    });\n  });\n\n  // Retrieve a single record\n  app.get('/api/suscripcion/:ID', (req, res) => {\n    suscripcion.findOne({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    });\n  });\n\n  // Add a record\n  app.post('/api/suscripcion', (req, res) => {\n    suscripcion.createAsPromise({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    }).catch(e => {\n      res.status(e.code || 500).send(e);\n    });\n  });\n\n  // Update a record\n  app.put('/api/suscripcion/:ID', (req, res) => {\n    suscripcion.update({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    }).catch(e => {\n      res.status(500).send(e);\n    });\n  });\n\n  // Delete a record\n  app.delete('/api/suscripcion/:ID', (req, res) => {\n    suscripcion.delete({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    }).catch(e => {\n      res.status(500).send(e);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwic3VzY3JpcGNpb24iLCJyZXF1aXJlIiwiZ2V0IiwicmVxIiwicmVzIiwiZmluZEFsbCIsImZpbmQiLCJ0aGVuIiwicmVzdWx0Iiwic2VuZCIsImZpbmRPbmUiLCJwb3N0IiwiY3JlYXRlQXNQcm9taXNlIiwiY2F0Y2giLCJlIiwic3RhdHVzIiwiY29kZSIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2by9BcHR1Z28vYnVpbGRzL3N1c2NyaXBjaW9uY29wcmludGVyL2JhY2stZW5kL2FwcC9yb3V0ZXMvIiwic291cmNlcyI6WyJzdXNjcmlwY2lvbi5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoYXBwKSA9PiB7XG4gIGNvbnN0IHN1c2NyaXBjaW9uID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvc3VzY3JpcGNpb24uY29udHJvbGxlci5qcycpXG5cbiAgLy8gR2V0IGFsbCByZWNvcmRzXG4gIGFwcC5nZXQoJy9hcGkvc3VzY3JpcGNpb24nLCAocmVxLCByZXMpID0+IHtcbiAgICBzdXNjcmlwY2lvbi5maW5kQWxsKHsgcmVxLCByZXMgfSlcbiAgfSlcblxuICAvLyBTZWFyY2ggcmVjb3Jkc1xuICBhcHAuZ2V0KCcvYXBpL3N1c2NyaXBjaW9uL3NlYXJjaCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHN1c2NyaXBjaW9uLmZpbmQoeyByZXEsIHJlcyB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHJlcy5zZW5kKHJlc3VsdClcbiAgICB9KVxuICB9KVxuXG4gIC8vIFJldHJpZXZlIGEgc2luZ2xlIHJlY29yZFxuICBhcHAuZ2V0KCcvYXBpL3N1c2NyaXBjaW9uLzpJRCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHN1c2NyaXBjaW9uLmZpbmRPbmUoeyByZXEsIHJlcyB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHJlcy5zZW5kKHJlc3VsdClcbiAgICB9KVxuICB9KVxuXG4gIC8vIEFkZCBhIHJlY29yZFxuICBhcHAucG9zdCgnL2FwaS9zdXNjcmlwY2lvbicsIChyZXEsIHJlcykgPT4ge1xuICAgIHN1c2NyaXBjaW9uXG4gICAgICAuY3JlYXRlQXNQcm9taXNlKHsgcmVxLCByZXMgfSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzLnNlbmQocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKGUuY29kZSB8fCA1MDApLnNlbmQoZSlcbiAgICAgIH0pXG4gIH0pXG5cbiAgLy8gVXBkYXRlIGEgcmVjb3JkXG4gIGFwcC5wdXQoJy9hcGkvc3VzY3JpcGNpb24vOklEJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgc3VzY3JpcGNpb25cbiAgICAgIC51cGRhdGUoeyByZXEsIHJlcyB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXMuc2VuZChyZXN1bHQpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpXG4gICAgICB9KVxuICB9KVxuXG4gIC8vIERlbGV0ZSBhIHJlY29yZFxuICBhcHAuZGVsZXRlKCcvYXBpL3N1c2NyaXBjaW9uLzpJRCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHN1c2NyaXBjaW9uXG4gICAgICAuZGVsZXRlKHsgcmVxLCByZXMgfSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzLnNlbmQocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlKVxuICAgICAgfSlcbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFJQyxHQUFHLElBQUs7RUFDeEIsTUFBTUMsV0FBVyxHQUFHQyxPQUFPLENBQUMs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","map":{"version":3,"names":["module","exports","app","suscripcion","require","get","req","res","findAll","find","then","result","send","findOne","post","createAsPromise","catch","e","status","code","put","update","delete"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/","sources":["suscripcion.routes.js"],"sourcesContent":["module.exports = (app) => {\n  const suscripcion = require('../controllers/suscripcion.controller.js')\n\n  // Get all records\n  app.get('/api/suscripcion', (req, res) => {\n    suscripcion.findAll({ req, res })\n  })\n\n  // Search records\n  app.get('/api/suscripcion/search', (req, res) => {\n    suscripcion.find({ req, res }).then((result) => {\n      res.send(result)\n    })\n  })\n\n  // Retrieve a single record\n  app.get('/api/suscripcion/:ID', (req, res) => {\n    suscripcion.findOne({ req, res }).then((result) => {\n      res.send(result)\n    })\n  })\n\n  // Add a record\n  app.post('/api/suscripcion', (req, res) => {\n    suscripcion\n      .createAsPromise({ req, res })\n      .then((result) => {\n        res.send(result)\n      })\n      .catch((e) => {\n        res.status(e.code || 500).send(e)\n      })\n  })\n\n  // Update a record\n  app.put('/api/suscripcion/:ID', (req, res) => {\n    suscripcion\n      .update({ req, res })\n      .then((result) => {\n        res.send(result)\n      })\n      .catch((e) => {\n        res.status(500).send(e)\n      })\n  })\n\n  // Delete a record\n  app.delete('/api/suscripcion/:ID', (req, res) => {\n    suscripcion\n      .delete({ req, res })\n      .then((result) => {\n        res.send(result)\n      })\n      .catch((e) => {\n        res.status(500).send(e)\n      })\n  })\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAIC,GAAG,IAAK;EACxB,MAAMC,WAAW,GAAGC,OAAO,CAAC,0CAA0C,CAAC;;EAEvE;EACAF,GAAG,CAACG,GAAG,CAAC,kBAAkB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IACxCJ,WAAW,CAACK,OAAO,CAAC;MAAEF,GAAG;MAAEC;IAAI,CAAC,CAAC;EACnC,CAAC,CAAC;;EAEF;EACAL,GAAG,CAACG,GAAG,CAAC,yBAAyB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC/CJ,WAAW,CAACM,IAAI,CAAC;MAAEH,GAAG;MAAEC;IAAI,CAAC,CAAC,CAACG,IAAI,CAAEC,MAAM,IAAK;MAC9CJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC,CAAC;;EAEF;EACAT,GAAG,CAACG,GAAG,CAAC,sBAAsB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC5CJ,WAAW,CAACU,OAAO,CAAC;MAAEP,GAAG;MAAEC;IAAI,CAAC,CAAC,CAACG,IAAI,CAAEC,MAAM,IAAK;MACjDJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC,CAAC;;EAEF;EACAT,GAAG,CAACY,IAAI,CAAC,kBAAkB,EAAE,CAACR,GAAG,EAAEC,GAAG,KAAK;IACzCJ,WAAW,CACRY,eAAe,CAAC;MAAET,GAAG;MAAEC;IAAI,CAAC,CAAC,CAC7BG,IAAI,CAAEC,MAAM,IAAK;MAChBJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,CAAC,IAAK;MACZV,GAAG,CAACW,MAAM,CAACD,CAAC,CAACE,IAAI,IAAI,GAAG,CAAC,CAACP,IAAI,CAACK,CAAC,CAAC;IACnC,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;EACAf,GAAG,CAACkB,GAAG,CAAC,sBAAsB,EAAE,CAACd,GAAG,EAAEC,GAAG,KAAK;IAC5CJ,WAAW,CACRkB,MAAM,CAAC;MAAEf,GAAG;MAAEC;IAAI,CAAC,CAAC,CACpBG,IAAI,CAAEC,MAAM,IAAK;MAChBJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,CAAC,IAAK;MACZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACN,IAAI,CAACK,CAAC,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;EACAf,GAAG,CAACoB,MAAM,CAAC,sBAAsB,EAAE,CAAChB,GAAG,EAAEC,GAAG,KAAK;IAC/CJ,WAAW,CACRmB,MAAM,CAAC;MAAEhB,GAAG;MAAEC;IAAI,CAAC,CAAC,CACpBG,IAAI,CAAEC,MAAM,IAAK;MAChBJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,CAAC,IAAK;MACZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACN,IAAI,CAACK,CAAC,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC"}},"mtime":1683131264254},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/controllers/suscripcion.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const Suscripcion = require('../models/suscripcion.model.js');\nconst fs = require('fs');\nconst paginate = require('../paginate');\nconst errors = require('../services/errors.service');\n\n// Create and Save a new SingleUntitled\nexports.create = async options => {\n  const data = options.req ? options.req.body : options.data;\n  const updatedData = {};\n  if (typeof data.Nombre !== 'undefined') updatedData['Nombre'] = data.Nombre;\n  if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto;\n  if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email;\n  if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono;\n  if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro;\n\n  // Create a SingleUntitled\n  const SingleUntitled = new Suscripcion(updatedData);\n\n  // Save SingleUntitled in the database\n  SingleUntitled.save().then(data => {\n    exports.findOne({\n      ID: data._id,\n      res: options.res\n    });\n  }).catch(err => {\n    options.res.status(500).send({\n      message: err.message || 'Some error occurred while saving the record.'\n    });\n  });\n};\nexports.createAsPromise = options => {\n  return new Promise(async (resolve, reject) => {\n    const data = options.req ? options.req.body : options.data;\n    const updatedData = {};\n    if (data._id) updatedData._id = data._id;\n    if (typeof data.Nombre !== 'undefined') updatedData['Nombre'] = data.Nombre;\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto;\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email;\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono;\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro;\n\n    // Create a SingleUntitled\n    const SingleUntitled = new Suscripcion(updatedData);\n\n    // Save SingleUntitled in the database\n    SingleUntitled.save().then(result => {\n      if (options.skipfind) {\n        resolve(result);\n      } else {\n        exports.findOne({\n          ID: result._id,\n          res: options.res\n        }).then(result => {\n          resolve(result);\n        });\n      }\n    }).catch(err => {\n      reject(errors.prepareError(err));\n    });\n  });\n};\n\n// Retrieve and return all Suscripcion from the database.\nexports.findAll = options => {\n  const query = options.query ? options.query : options.req.query;\n  if (typeof query.populate === 'undefined') query.populate = 'true';\n  const data = options.req ? options.req.body : options.data;\n  if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort);\n  const findString = {};\n  if (query.fixedSearch) {\n    query.fixedSearch = JSON.parse(query.fixedSearch);\n    findString[query.fixedSearch.field] = {\n      $regex: new RegExp(query.fixedSearch.value, 'i')\n    };\n  }\n  Suscripcion.find(findString).sort(query.sort && {\n    [query.sort.field]: query.sort.method === 'desc' ? -1 : 1\n  }).then(suscripcion => {\n    options.res.json(paginate.paginate(suscripcion, {\n      page: query.page,\n      limit: query.limit || 10\n    }));\n  }).catch(err => {\n    options.res.status(500).send({\n      message: err.message || 'Some error occurred while retrieving records.'\n    });\n  });\n};\nexports.find = options => {\n  return new Promise((resolve, reject) => {\n    const query = options.query ? options.query : options.req.query;\n    const data = options.req ? options.req.body : options.data;\n    let findString = query.searchString ? {\n      $text: {\n        $search: query.searchString\n      }\n    } : {};\n    if (query.searchField) {\n      if (Suscripcion.schema.path(query.searchField).instance === 'Boolean') {\n        findString = {\n          [query.searchField]: JSON.parse(query.searchString)\n        };\n      } else if (Suscripcion.schema.path(query.searchField).instance === 'Date') {\n        findString = {\n          $expr: {\n            $eq: [query.searchString, {\n              $dateToString: {\n                date: `$${query.searchField}`,\n                format: '%Y-%m-%d'\n              }\n            }]\n          }\n        };\n      } else {\n        findString = {\n          [query.searchField]: {\n            $regex: new RegExp(query.searchString, 'i')\n          }\n        };\n      }\n      if (Suscripcion.schema.path(query.searchField).instance === 'ObjectID' || Suscripcion.schema.path(query.searchField).instance === 'Array') {\n        findString = {\n          [query.searchField]: require('mongoose').Types.ObjectId(query.searchString)\n        };\n      }\n    } else if (query.filters) {\n      query.filters.forEach(filter => {\n        const parsed = typeof filter === 'string' ? JSON.parse(filter) : filter;\n        findString[parsed.field] = parsed.value;\n      });\n    }\n    if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort);\n    if (query.fixedSearch) {\n      query.fixedSearch = JSON.parse(query.fixedSearch);\n      findString[query.fixedSearch.field] = {\n        $regex: new RegExp(query.fixedSearch.value, 'i')\n      };\n    }\n    Suscripcion.find(findString).sort(query.sort && {\n      [query.sort.field]: query.sort.method === 'desc' ? -1 : 1\n    }).then(singleuntitled => {\n      resolve(paginate.paginate(singleuntitled, {\n        page: query.page,\n        limit: query.limit || 10\n      }));\n    }).catch(err => {\n      options.res.status(500).send({\n        message: err.message || 'Some error occurred while retrieving records.'\n      });\n    });\n  });\n};\n\n// Find a single SingleUntitled with a ID\nexports.findOne = options => {\n  return new Promise((resolve, reject) => {\n    const query = {\n      populate: 'true'\n    };\n    const id = options.req ? options.req.params.ID : options.ID;\n    Suscripcion.findById(id).then(singleuntitled => {\n      if (!singleuntitled) {\n        return options.res.status(404).send({\n          message: 'SingleUntitled not found with id ' + id\n        });\n      }\n      resolve(paginate.paginate([singleuntitled]));\n    }).catch(err => {\n      if (err.kind === 'ObjectId') {\n        return options.res.status(404).send({\n          message: 'SingleUntitled not found with id ' + id\n        });\n      }\n      return options.res.status(500).send({\n        message: 'Error retrieving SingleUntitled with id ' + id\n      });\n    });\n  });\n};\n\n// Update a singleuntitled identified by the ID in the request\nexports.update = options => {\n  return new Promise(async (resolve, reject) => {\n    const id = options.req ? options.req.params.ID : options.ID;\n    const data = options.req ? options.req.body : options.data;\n    const updatedData = {};\n    if (typeof data.Nombre !== 'undefined') updatedData['Nombre'] = data.Nombre;\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto;\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email;\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono;\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro;\n\n    // Find Single Untitled  and update it with the request body\n    const query = {\n      populate: 'true'\n    };\n    Suscripcion.findByIdAndUpdate(id, updatedData, {\n      new: true\n    }).then(result => {\n      resolve(result);\n    }).catch(err => {\n      reject(err);\n    });\n  });\n};\n\n// Delete a singleuntitled with the specified ID in the request\nexports.delete = options => {\n  return new Promise((resolve, reject) => {\n    const params = options.req ? options.req.params : options;\n    let theFilter = {\n      _id: params.ID\n    };\n    if (options.queryString && options.queryField) {\n      theFilter = {\n        [options.queryField]: options.queryString\n      };\n    }\n    Suscripcion.deleteMany(theFilter).then(result => {\n      resolve(result);\n    }).catch(e => {\n      reject(e);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTdXNjcmlwY2lvbiIsInJlcXVpcmUiLCJmcyIsInBhZ2luYXRlIiwiZXJyb3JzIiwiZXhwb3J0cyIsImNyZWF0ZSIsIm9wdGlvbnMiLCJkYXRhIiwicmVxIiwiYm9keSIsInVwZGF0ZWREYXRhIiwiTm9tYnJlIiwiQ29udGFjdG8iLCJFbWFpbCIsIlRlbGVmb25vIiwiUnVicm8iLCJTaW5nbGVVbnRpdGxlZCIsInNhdmUiLCJ0aGVuIiwiZmluZE9uZSIsIklEIiwiX2lkIiwicmVzIiwiY2F0Y2giLCJlcnIiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNyZWF0ZUFzUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0Iiwic2tpcGZpbmQiLCJwcmVwYXJlRXJyb3IiLCJmaW5kQWxsIiwicXVlcnkiLCJwb3B1bGF0ZSIsInNvcnQiLCJKU09OIiwicGFyc2UiLCJmaW5kU3RyaW5nIiwiZml4ZWRTZWFyY2giLCJmaWVsZCIsIiRyZWdleCIsIlJlZ0V4cCIsInZhbHVlIiwiZmluZCIsIm1ldGhvZCIsInN1c2NyaXBjaW9uIiwianNvbiIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaFN0cmluZyIsIiR0ZXh0IiwiJHNlYXJjaCIsInNlYXJjaEZpZWxkIiwic2NoZW1hIiwicGF0aCIsImluc3RhbmNlIiwiJGV4cHIiLCIkZXEiLCIkZGF0ZVRvU3RyaW5nIiwiZGF0ZSIsImZvcm1hdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJmaWx0ZXJzIiwiZm9yRWFjaCIsImZpbHRlciIsInBhcnNlZCIsInNpbmdsZXVudGl0bGVkIiwiaWQiLCJwYXJhbXMiLCJmaW5kQnlJZCIsImtpbmQiLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZSIsInRoZUZpbHRlciIsInF1ZXJ5U3RyaW5nIiwicXVlcnlGaWVsZCIsImRlbGV0ZU1hbnkiLCJlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ndXN0YXZvL0FwdHVnby9idWlsZHMvc3VzY3JpcGNpb25jb3ByaW50ZXIvYmFjay1lbmQvYXBwL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsic3VzY3JpcGNpb24uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTdXNjcmlwY2lvbiA9IHJlcXVpcmUoJy4uL21vZGVscy9zdXNjcmlwY2lvbi5tb2RlbC5qcycpXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbmNvbnN0IHBhZ2luYXRlID0gcmVxdWlyZSgnLi4vcGFnaW5hdGUnKVxuY29uc3QgZXJyb3JzID0gcmVxdWlyZSgnLi4vc2VydmljZXMvZXJyb3JzLnNlcnZpY2UnKVxuXG4vLyBDcmVhdGUgYW5kIFNhdmUgYSBuZXcgU2luZ2xlVW50aXRsZWRcbmV4cG9ydHMuY3JlYXRlID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgZGF0YSA9IG9wdGlvbnMucmVxID8gb3B0aW9ucy5yZXEuYm9keSA6IG9wdGlvbnMuZGF0YVxuICBjb25zdCB1cGRhdGVkRGF0YSA9IHt9XG5cbiAgaWYgKHR5cGVvZiBkYXRhLk5vbWJyZSAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydOb21icmUnXSA9IGRhdGEuTm9tYnJlXG5cbiAgaWYgKHR5cGVvZiBkYXRhLkNvbnRhY3RvICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ0NvbnRhY3RvJ10gPSBkYXRhLkNvbnRhY3RvXG5cbiAgaWYgKHR5cGVvZiBkYXRhLkVtYWlsICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ0VtYWlsJ10gPSBkYXRhLkVtYWlsXG5cbiAgaWYgKHR5cGVvZiBkYXRhLlRlbGVmb25vICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ1RlbGVmb25vJ10gPSBkYXRhLlRlbGVmb25vXG5cbiAgaWYgKHR5cGVvZiBkYXRhLlJ1YnJvICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ1J1YnJvJ10gPSBkYXRhLlJ1YnJvXG5cbiAgLy8gQ3JlYXRlIGEgU2luZ2xlVW50aXRsZWRcbiAgY29uc3QgU2luZ2xlVW50aXRsZWQgPSBuZXcgU3VzY3JpcGNpb24odXBkYXRlZERhdGEpXG5cbiAgLy8gU2F2ZSBTaW5nbGVVbnRpdGxlZCBpbiB0aGUgZGF0YWJhc2VcbiAgU2luZ2xlVW50aXRsZWQuc2F2ZSgpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGV4cG9ydHMuZmluZE9uZSh7IElEOiBkYXRhLl9pZCwgcmVzOiBvcHRpb25zLnJlcyB9KVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIG9wdGlvbnMucmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSB8fCAnU29tZSBlcnJvciBvY2N1cnJlZCB3aGlsZSBzYXZpbmcgdGhlIHJlY29yZC4nLFxuICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnRzLmNyZWF0ZUFzUHJvbWlzZSA9IChvcHRpb25zKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IG9wdGlvbnMucmVxID8gb3B0aW9ucy5yZXEuYm9keSA6IG9wdGlvbnMuZGF0YVxuICAgIGNvbnN0IHVwZGF0ZWREYXRhID0ge31cbiAgICBpZiAoZGF0YS5faWQpIHVwZGF0ZWREYXRhLl9pZCA9IGRhdGEuX2lkXG5cbiAgICBpZiAodHlwZW9mIGRhdGEuTm9tYnJlICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ05vbWJyZSddID0gZGF0YS5Ob21icmVcblxuICAgIGlmICh0eXBlb2YgZGF0YS5Db250YWN0byAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydDb250YWN0byddID0gZGF0YS5Db250YWN0b1xuXG4gICAgaWYgKHR5cGVvZiBkYXRhLkVtYWlsICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ0VtYWlsJ10gPSBkYXRhLkVtYWlsXG5cbiAgICBpZiAodHlwZW9mIGRhdGEuVGVsZWZvbm8gIT09ICd1bmRlZmluZWQnKSB1cGRhdGVkRGF0YVsnVGVsZWZvbm8nXSA9IGRhdGEuVGVsZWZvbm9cblxuICAgIGlmICh0eXBlb2YgZGF0YS5SdWJybyAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydSdWJybyddID0gZGF0YS5SdWJyb1xuXG4gICAgLy8gQ3JlYXRlIGEgU2luZ2xlVW50aXRsZWRcbiAgICBjb25zdCBTaW5nbGVVbnRpdGxlZCA9IG5ldyBTdXNjcmlwY2lvbih1cGRhdGVkRGF0YSlcblxuICAgIC8vIFNhdmUgU2luZ2xlVW50aXRsZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgU2luZ2xlVW50aXRsZWQuc2F2ZSgpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zLnNraXBmaW5kKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwb3J0cy5maW5kT25lKHsgSUQ6IHJlc3VsdC5faWQsIHJlczogb3B0aW9ucy5yZXMgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgcmVqZWN0KGVycm9ycy5wcmVwYXJlRXJyb3IoZXJyKSlcbiAgICAgIH0pXG4gIH0pXG59XG5cbi8vIFJldHJpZXZlIGFuZCByZXR1cm4gYWxsIFN1c2NyaXBjaW9uIGZyb20gdGhlIGRhdGFiYXNlLlxuZXhwb3J0cy5maW5kQWxsID0gKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBvcHRpb25zLnF1ZXJ5ID8gb3B0aW9ucy5xdWVyeSA6IG9wdGlvbnMucmVxLnF1ZXJ5XG4gIGlmICh0eXBlb2YgcXVlcnkucG9wdWxhdGUgPT09ICd1bmRlZmluZWQnKSBxdWVyeS5wb3B1bGF0ZSA9ICd0cnVlJ1xuICBjb25zdCBkYXRhID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5ib2R5IDogb3B0aW9ucy5kYXRhXG4gIGlmICh0eXBlb2YgcXVlcnkuc29ydCA9PT0gJ3N0cmluZycpIHF1ZXJ5LnNvcnQgPSBKU09OLnBhcnNlKHF1ZXJ5LnNvcnQpXG5cbiAgY29uc3QgZmluZFN0cmluZyA9IHt9XG4gIGlmIChxdWVyeS5maXhlZFNlYXJjaCkge1xuICAgIHF1ZXJ5LmZpeGVkU2VhcmNoID0gSlNPTi5wYXJzZShxdWVyeS5maXhlZFNlYXJjaClcbiAgICBmaW5kU3RyaW5nW3F1ZXJ5LmZpeGVkU2VhcmNoLmZpZWxkXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKHF1ZXJ5LmZpeGVkU2VhcmNoLnZhbHVlLCAnaScpIH1cbiAgfVxuXG4gIFN1c2NyaXBjaW9uLmZpbmQoZmluZFN0cmluZylcbiAgICAuc29ydChxdWVyeS5zb3J0ICYmIHsgW3F1ZXJ5LnNvcnQuZmllbGRdOiBxdWVyeS5zb3J0Lm1ldGhvZCA9PT0gJ2Rlc2MnID8gLTEgOiAxIH0pXG5cbiAgICAudGhlbigoc3VzY3JpcGNpb24pID0+IHtcbiAgICAgIG9wdGlvbnMucmVzLmpzb24ocGFnaW5hdGUucGFnaW5hdGUoc3VzY3JpcGNpb24sIHsgcGFnZTogcXVlcnkucGFnZSwgbGltaXQ6IHF1ZXJ5LmxpbWl0IHx8IDEwIH0pKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIG9wdGlvbnMucmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSB8fCAnU29tZSBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXRyaWV2aW5nIHJlY29yZHMuJyxcbiAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0cy5maW5kID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IG9wdGlvbnMucXVlcnkgPyBvcHRpb25zLnF1ZXJ5IDogb3B0aW9ucy5yZXEucXVlcnlcbiAgICBjb25zdCBkYXRhID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5ib2R5IDogb3B0aW9ucy5kYXRhXG4gICAgbGV0IGZpbmRTdHJpbmcgPSBxdWVyeS5zZWFyY2hTdHJpbmcgPyB7ICR0ZXh0OiB7ICRzZWFyY2g6IHF1ZXJ5LnNlYXJjaFN0cmluZyB9IH0gOiB7fVxuICAgIGlmIChxdWVyeS5zZWFyY2hGaWVsZCkge1xuICAgICAgaWYgKFN1c2NyaXBjaW9uLnNjaGVtYS5wYXRoKHF1ZXJ5LnNlYXJjaEZpZWxkKS5pbnN0YW5jZSA9PT0gJ0Jvb2xlYW4nKSB7XG4gICAgICAgIGZpbmRTdHJpbmcgPSB7IFtxdWVyeS5zZWFyY2hGaWVsZF06IEpTT04ucGFyc2UocXVlcnkuc2VhcmNoU3RyaW5nKSB9XG4gICAgICB9IGVsc2UgaWYgKFN1c2NyaXBjaW9uLnNjaGVtYS5wYXRoKHF1ZXJ5LnNlYXJjaEZpZWxkKS5pbnN0YW5jZSA9PT0gJ0RhdGUnKSB7XG4gICAgICAgIGZpbmRTdHJpbmcgPSB7ICRleHByOiB7ICRlcTogW3F1ZXJ5LnNlYXJjaFN0cmluZywgeyAkZGF0ZVRvU3RyaW5nOiB7IGRhdGU6IGAkJHtxdWVyeS5zZWFyY2hGaWVsZH1gLCBmb3JtYXQ6ICclWS0lbS0lZCcgfSB9XSB9IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbmRTdHJpbmcgPSB7IFtxdWVyeS5zZWFyY2hGaWVsZF06IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKHF1ZXJ5LnNlYXJjaFN0cmluZywgJ2knKSB9IH1cbiAgICAgIH1cblxuICAgICAgaWYgKFN1c2NyaXBjaW9uLnNjaGVtYS5wYXRoKHF1ZXJ5LnNlYXJjaEZpZWxkKS5pbnN0YW5jZSA9PT0gJ09iamVjdElEJyB8fCBTdXNjcmlwY2lvbi5zY2hlbWEucGF0aChxdWVyeS5zZWFyY2hGaWVsZCkuaW5zdGFuY2UgPT09ICdBcnJheScpIHtcbiAgICAgICAgZmluZFN0cmluZyA9IHsgW3F1ZXJ5LnNlYXJjaEZpZWxkXTogcmVxdWlyZSgnbW9uZ29vc2UnKS5UeXBlcy5PYmplY3RJZChxdWVyeS5zZWFyY2hTdHJpbmcpIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHF1ZXJ5LmZpbHRlcnMpIHtcbiAgICAgIHF1ZXJ5LmZpbHRlcnMuZm9yRWFjaCgoZmlsdGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShmaWx0ZXIpIDogZmlsdGVyXG4gICAgICAgIGZpbmRTdHJpbmdbcGFyc2VkLmZpZWxkXSA9IHBhcnNlZC52YWx1ZVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBxdWVyeS5zb3J0ID09PSAnc3RyaW5nJykgcXVlcnkuc29ydCA9IEpTT04ucGFyc2UocXVlcnkuc29ydClcblxuICAgIGlmIChxdWVyeS5maXhlZFNlYXJjaCkge1xuICAgICAgcXVlcnkuZml4ZWRTZWFyY2ggPSBKU09OLnBhcnNlKHF1ZXJ5LmZpeGVkU2VhcmNoKVxuICAgICAgZmluZFN0cmluZ1txdWVyeS5maXhlZFNlYXJjaC5maWVsZF0gPSB7ICRyZWdleDogbmV3IFJlZ0V4cChxdWVyeS5maXhlZFNlYXJjaC52YWx1ZSwgJ2knKSB9XG4gICAgfVxuXG4gICAgU3VzY3JpcGNpb24uZmluZChmaW5kU3RyaW5nKVxuICAgICAgLnNvcnQocXVlcnkuc29ydCAmJiB7IFtxdWVyeS5zb3J0LmZpZWxkXTogcXVlcnkuc29ydC5tZXRob2QgPT09ICdkZXNjJyA/IC0xIDogMSB9KVxuXG4gICAgICAudGhlbigoc2luZ2xldW50aXRsZWQpID0+IHtcbiAgICAgICAgcmVzb2x2ZShwYWdpbmF0ZS5wYWdpbmF0ZShzaW5nbGV1bnRpdGxlZCwgeyBwYWdlOiBxdWVyeS5wYWdlLCBsaW1pdDogcXVlcnkubGltaXQgfHwgMTAgfSkpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgb3B0aW9ucy5yZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfHwgJ1NvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyByZWNvcmRzLicsXG4gICAgICAgIH0pXG4gICAgICB9KVxuICB9KVxufVxuXG4vLyBGaW5kIGEgc2luZ2xlIFNpbmdsZVVudGl0bGVkIHdpdGggYSBJRFxuZXhwb3J0cy5maW5kT25lID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IHsgcG9wdWxhdGU6ICd0cnVlJyB9XG4gICAgY29uc3QgaWQgPSBvcHRpb25zLnJlcSA/IG9wdGlvbnMucmVxLnBhcmFtcy5JRCA6IG9wdGlvbnMuSURcbiAgICBTdXNjcmlwY2lvbi5maW5kQnlJZChpZClcblxuICAgICAgLnRoZW4oKHNpbmdsZXVudGl0bGVkKSA9PiB7XG4gICAgICAgIGlmICghc2luZ2xldW50aXRsZWQpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnU2luZ2xlVW50aXRsZWQgbm90IGZvdW5kIHdpdGggaWQgJyArIGlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShwYWdpbmF0ZS5wYWdpbmF0ZShbc2luZ2xldW50aXRsZWRdKSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBpZiAoZXJyLmtpbmQgPT09ICdPYmplY3RJZCcpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnU2luZ2xlVW50aXRsZWQgbm90IGZvdW5kIHdpdGggaWQgJyArIGlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciByZXRyaWV2aW5nIFNpbmdsZVVudGl0bGVkIHdpdGggaWQgJyArIGlkLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgfSlcbn1cblxuLy8gVXBkYXRlIGEgc2luZ2xldW50aXRsZWQgaWRlbnRpZmllZCBieSB0aGUgSUQgaW4gdGhlIHJlcXVlc3RcbmV4cG9ydHMudXBkYXRlID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpZCA9IG9wdGlvbnMucmVxID8gb3B0aW9ucy5yZXEucGFyYW1zLklEIDogb3B0aW9ucy5JRFxuICAgIGNvbnN0IGRhdGEgPSBvcHRpb25zLnJlcSA/IG9wdGlvbnMucmVxLmJvZHkgOiBvcHRpb25zLmRhdGFcbiAgICBjb25zdCB1cGRhdGVkRGF0YSA9IHt9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEuTm9tYnJlICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ05vbWJyZSddID0gZGF0YS5Ob21icmVcblxuICAgIGlmICh0eXBlb2YgZGF0YS5Db250YWN0byAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydDb250YWN0byddID0gZGF0YS5Db250YWN0b1xuXG4gICAgaWYgKHR5cGVvZiBkYXRhLkVtYWlsICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ0VtYWlsJ10gPSBkYXRhLkVtYWlsXG5cbiAgICBpZiAodHlwZW9mIGRhdGEuVGVsZWZvbm8gIT09ICd1bmRlZmluZWQnKSB1cGRhdGVkRGF0YVsnVGVsZWZvbm8nXSA9IGRhdGEuVGVsZWZvbm9cblxuICAgIGlmICh0eXBlb2YgZGF0YS5SdWJybyAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydSdWJybyddID0gZGF0YS5SdWJyb1xuXG4gICAgLy8gRmluZCBTaW5nbGUgVW50aXRsZWQgIGFuZCB1cGRhdGUgaXQgd2l0aCB0aGUgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgcXVlcnkgPSB7IHBvcHVsYXRlOiAndHJ1ZScgfVxuICAgIFN1c2NyaXBjaW9uLmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB1cGRhdGVkRGF0YSwgeyBuZXc6IHRydWUgfSlcblxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICByZWplY3QoZXJyKVxuICAgICAgfSlcbiAgfSlcbn1cblxuLy8gRGVsZXRlIGEgc2luZ2xldW50aXRsZWQgd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSByZXF1ZXN0XG5leHBvcnRzLmRlbGV0ZSA9IChvcHRpb25zKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5wYXJhbXMgOiBvcHRpb25zXG4gICAgbGV0IHRoZUZpbHRlciA9IHsgX2lkOiBwYXJhbXMuSUQgfVxuXG4gICAgaWYgKG9wdGlvbnMucXVlcnlTdHJpbmcgJiYgb3B0aW9ucy5xdWVyeUZpZWxkKSB7XG4gICAgICB0aGVGaWx0ZXIgPSB7IFtvcHRpb25zLnF1ZXJ5RmllbGRdOiBvcHRpb25zLnF1ZXJ5U3RyaW5nIH1cbiAgICB9XG4gICAgU3VzY3JpcGNpb24uZGVsZXRlTWFueSh0aGVGaWx0ZXIpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZWplY3QoZSlcbiAgICAgIH0pXG4gIH0pXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQzdELE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDdkMsTUFBTUcsTUFBTSxHQUFHSCxP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","map":{"version":3,"names":["Suscripcion","require","fs","paginate","errors","exports","create","options","data","req","body","updatedData","Nombre","Contacto","Email","Telefono","Rubro","SingleUntitled","save","then","findOne","ID","_id","res","catch","err","status","send","message","createAsPromise","Promise","resolve","reject","result","skipfind","prepareError","findAll","query","populate","sort","JSON","parse","findString","fixedSearch","field","$regex","RegExp","value","find","method","suscripcion","json","page","limit","searchString","$text","$search","searchField","schema","path","instance","$expr","$eq","$dateToString","date","format","Types","ObjectId","filters","forEach","filter","parsed","singleuntitled","id","params","findById","kind","update","findByIdAndUpdate","new","delete","theFilter","queryString","queryField","deleteMany","e"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/controllers/","sources":["suscripcion.controller.js"],"sourcesContent":["const Suscripcion = require('../models/suscripcion.model.js')\nconst fs = require('fs')\nconst paginate = require('../paginate')\nconst errors = require('../services/errors.service')\n\n// Create and Save a new SingleUntitled\nexports.create = async (options) => {\n  const data = options.req ? options.req.body : options.data\n  const updatedData = {}\n\n  if (typeof data.Nombre !== 'undefined') updatedData['Nombre'] = data.Nombre\n\n  if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto\n\n  if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email\n\n  if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono\n\n  if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro\n\n  // Create a SingleUntitled\n  const SingleUntitled = new Suscripcion(updatedData)\n\n  // Save SingleUntitled in the database\n  SingleUntitled.save()\n    .then((data) => {\n      exports.findOne({ ID: data._id, res: options.res })\n    })\n    .catch((err) => {\n      options.res.status(500).send({\n        message: err.message || 'Some error occurred while saving the record.',\n      })\n    })\n}\n\nexports.createAsPromise = (options) => {\n  return new Promise(async (resolve, reject) => {\n    const data = options.req ? options.req.body : options.data\n    const updatedData = {}\n    if (data._id) updatedData._id = data._id\n\n    if (typeof data.Nombre !== 'undefined') updatedData['Nombre'] = data.Nombre\n\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto\n\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email\n\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono\n\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro\n\n    // Create a SingleUntitled\n    const SingleUntitled = new Suscripcion(updatedData)\n\n    // Save SingleUntitled in the database\n    SingleUntitled.save()\n      .then((result) => {\n        if (options.skipfind) {\n          resolve(result)\n        } else {\n          exports.findOne({ ID: result._id, res: options.res }).then((result) => {\n            resolve(result)\n          })\n        }\n      })\n      .catch((err) => {\n        reject(errors.prepareError(err))\n      })\n  })\n}\n\n// Retrieve and return all Suscripcion from the database.\nexports.findAll = (options) => {\n  const query = options.query ? options.query : options.req.query\n  if (typeof query.populate === 'undefined') query.populate = 'true'\n  const data = options.req ? options.req.body : options.data\n  if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort)\n\n  const findString = {}\n  if (query.fixedSearch) {\n    query.fixedSearch = JSON.parse(query.fixedSearch)\n    findString[query.fixedSearch.field] = { $regex: new RegExp(query.fixedSearch.value, 'i') }\n  }\n\n  Suscripcion.find(findString)\n    .sort(query.sort && { [query.sort.field]: query.sort.method === 'desc' ? -1 : 1 })\n\n    .then((suscripcion) => {\n      options.res.json(paginate.paginate(suscripcion, { page: query.page, limit: query.limit || 10 }))\n    })\n    .catch((err) => {\n      options.res.status(500).send({\n        message: err.message || 'Some error occurred while retrieving records.',\n      })\n    })\n}\n\nexports.find = (options) => {\n  return new Promise((resolve, reject) => {\n    const query = options.query ? options.query : options.req.query\n    const data = options.req ? options.req.body : options.data\n    let findString = query.searchString ? { $text: { $search: query.searchString } } : {}\n    if (query.searchField) {\n      if (Suscripcion.schema.path(query.searchField).instance === 'Boolean') {\n        findString = { [query.searchField]: JSON.parse(query.searchString) }\n      } else if (Suscripcion.schema.path(query.searchField).instance === 'Date') {\n        findString = { $expr: { $eq: [query.searchString, { $dateToString: { date: `$${query.searchField}`, format: '%Y-%m-%d' } }] } }\n      } else {\n        findString = { [query.searchField]: { $regex: new RegExp(query.searchString, 'i') } }\n      }\n\n      if (Suscripcion.schema.path(query.searchField).instance === 'ObjectID' || Suscripcion.schema.path(query.searchField).instance === 'Array') {\n        findString = { [query.searchField]: require('mongoose').Types.ObjectId(query.searchString) }\n      }\n    } else if (query.filters) {\n      query.filters.forEach((filter) => {\n        const parsed = typeof filter === 'string' ? JSON.parse(filter) : filter\n        findString[parsed.field] = parsed.value\n      })\n    }\n    if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort)\n\n    if (query.fixedSearch) {\n      query.fixedSearch = JSON.parse(query.fixedSearch)\n      findString[query.fixedSearch.field] = { $regex: new RegExp(query.fixedSearch.value, 'i') }\n    }\n\n    Suscripcion.find(findString)\n      .sort(query.sort && { [query.sort.field]: query.sort.method === 'desc' ? -1 : 1 })\n\n      .then((singleuntitled) => {\n        resolve(paginate.paginate(singleuntitled, { page: query.page, limit: query.limit || 10 }))\n      })\n      .catch((err) => {\n        options.res.status(500).send({\n          message: err.message || 'Some error occurred while retrieving records.',\n        })\n      })\n  })\n}\n\n// Find a single SingleUntitled with a ID\nexports.findOne = (options) => {\n  return new Promise((resolve, reject) => {\n    const query = { populate: 'true' }\n    const id = options.req ? options.req.params.ID : options.ID\n    Suscripcion.findById(id)\n\n      .then((singleuntitled) => {\n        if (!singleuntitled) {\n          return options.res.status(404).send({\n            message: 'SingleUntitled not found with id ' + id,\n          })\n        }\n        resolve(paginate.paginate([singleuntitled]))\n      })\n      .catch((err) => {\n        if (err.kind === 'ObjectId') {\n          return options.res.status(404).send({\n            message: 'SingleUntitled not found with id ' + id,\n          })\n        }\n        return options.res.status(500).send({\n          message: 'Error retrieving SingleUntitled with id ' + id,\n        })\n      })\n  })\n}\n\n// Update a singleuntitled identified by the ID in the request\nexports.update = (options) => {\n  return new Promise(async (resolve, reject) => {\n    const id = options.req ? options.req.params.ID : options.ID\n    const data = options.req ? options.req.body : options.data\n    const updatedData = {}\n\n    if (typeof data.Nombre !== 'undefined') updatedData['Nombre'] = data.Nombre\n\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto\n\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email\n\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono\n\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro\n\n    // Find Single Untitled  and update it with the request body\n    const query = { populate: 'true' }\n    Suscripcion.findByIdAndUpdate(id, updatedData, { new: true })\n\n      .then((result) => {\n        resolve(result)\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n\n// Delete a singleuntitled with the specified ID in the request\nexports.delete = (options) => {\n  return new Promise((resolve, reject) => {\n    const params = options.req ? options.req.params : options\n    let theFilter = { _id: params.ID }\n\n    if (options.queryString && options.queryField) {\n      theFilter = { [options.queryField]: options.queryString }\n    }\n    Suscripcion.deleteMany(theFilter)\n      .then((result) => {\n        resolve(result)\n      })\n      .catch((e) => {\n        reject(e)\n      })\n  })\n}\n"],"mappings":"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"}},"mtime":1683131264002},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/models/suscripcion.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const mongoose = require('mongoose');\nconst mongoosePaginate = require('mongoose-paginate-v2');\nconst SuscripcionSchema = mongoose.Schema({\n  Nombre: {\n    type: String\n  },\n  Contacto: {\n    type: String\n  },\n  Email: {\n    type: String\n  },\n  Telefono: Number,\n  Rubro: {\n    type: String\n  }\n}, {\n  timestamps: true,\n  toJSON: {\n    virtuals: true\n  }\n});\nSuscripcionSchema.plugin(mongoosePaginate);\nSuscripcionSchema.index({\n  Nombre: 'text',\n  Contacto: 'text',\n  Email: 'text',\n  Telefono: 'text',\n  Rubro: 'text'\n});\nconst myModel = module.exports = mongoose.model('Suscripcion', SuscripcionSchema, 'suscripcion');\nmyModel.schema = SuscripcionSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJtb25nb29zZVBhZ2luYXRlIiwiU3VzY3JpcGNpb25TY2hlbWEiLCJTY2hlbWEiLCJOb21icmUiLCJ0eXBlIiwiU3RyaW5nIiwiQ29udGFjdG8iLCJFbWFpbCIsIlRlbGVmb25vIiwiTnVtYmVyIiwiUnVicm8iLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidmlydHVhbHMiLCJwbHVnaW4iLCJpbmRleCIsIm15TW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiLCJzY2hlbWEiXSwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm8vQXB0dWdvL2J1aWxkcy9zdXNjcmlwY2lvbmNvcHJpbnRlci9iYWNrLWVuZC9hcHAvbW9kZWxzLyIsInNvdXJjZXMiOlsic3VzY3JpcGNpb24ubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5jb25zdCBtb25nb29zZVBhZ2luYXRlID0gcmVxdWlyZSgnbW9uZ29vc2UtcGFnaW5hdGUtdjInKVxuXG5jb25zdCBTdXNjcmlwY2lvblNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIE5vbWJyZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG5cbiAgICBDb250YWN0bzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG5cbiAgICBFbWFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgVGVsZWZvbm86IE51bWJlcixcblxuICAgIFJ1YnJvOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gICAgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0sXG4gIH1cbilcblxuU3VzY3JpcGNpb25TY2hlbWEucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpXG5TdXNjcmlwY2lvblNjaGVtYS5pbmRleCh7XG4gIE5vbWJyZTogJ3RleHQnLFxuICBDb250YWN0bzogJ3RleHQnLFxuICBFbWFpbDogJ3RleHQnLFxuICBUZWxlZm9ubzogJ3RleHQnLFxuICBSdWJybzogJ3RleHQnLFxufSlcblxuY29uc3QgbXlNb2RlbCA9IChtb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdTdXNjcmlwY2lvbicsIFN1c2NyaXBjaW9uU2NoZW1hLCAnc3VzY3JpcGNpb24nKSlcbm15TW9kZWwuc2NoZW1hID0gU3VzY3JpcGNpb25TY2hlbWFcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLGdCQUFnQixHQUFHRCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFFeEQsTUFBTUUsaUJBQWlCLEdBQUdILFFBQVEsQ0FBQ0ksTUFBTSxDQUN2QztFQUNFQyxNQUFNLEVBQUU7SUFDTkMsSUFBSSxFQUFFQztFQUNSLENBQUM7RUFFREMsUUFBUSxFQUFFO0lBQ1JGLElBQUksRUFBRUM7RUFDUixDQUFDO0VBRURFLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDO0VBQ1IsQ0FBQztFQUNERyxRQUFRLEVBQUVDLE1BQU07RUFFaEJDLEtBQUssRUFBRTtJQUNMTixJQUFJLEVBQUVDO0VBQ1I7QUFDRixDQUFDLEVBQ0Q7RUFDRU0sVUFBVSxFQUFFLElBQUk7RUFDaEJDLE1BQU0sRUFBRTtJQUFFQyxRQUFRLEVBQUU7RUFBSztBQUMzQixDQUNGLENBQUM7QUFFRFosaUJBQWlCLENBQUNhLE1BQU0sQ0FBQ2QsZ0JBQWdCLENBQUM7QUFDMUNDLGlCQUFpQixDQUFDYyxLQUFLLENBQUM7RUFDdEJaLE1BQU0sRUFBRSxNQUFNO0VBQ2RHLFFBQVEsRUFBRSxNQUFNO0VBQ2hCQyxLQUFLLEVBQUUsTUFBTTtFQUNiQyxRQUFRLEVBQUUsTUFBTTtFQUNoQkUsS0FBSyxFQUFFO0FBQ1QsQ0FBQyxDQUFDO0FBRUYsTUFBTU0sT0FBTyxHQUFJQyxNQUFNLENBQUNDLE9BQU8sR0FBR3BCLFFBQVEsQ0FBQ3FCLEtBQUssQ0FBQyxhQUFhLEVBQUVsQixpQkFBaUIsRUFBRSxhQUFhLENBQUU7QUFDbEdlLE9BQU8sQ0FBQ0ksTUFBTSxHQUFHbkIsaUJBQWlCIn0=","map":{"version":3,"names":["mongoose","require","mongoosePaginate","SuscripcionSchema","Schema","Nombre","type","String","Contacto","Email","Telefono","Number","Rubro","timestamps","toJSON","virtuals","plugin","index","myModel","module","exports","model","schema"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/models/","sources":["suscripcion.model.js"],"sourcesContent":["const mongoose = require('mongoose')\nconst mongoosePaginate = require('mongoose-paginate-v2')\n\nconst SuscripcionSchema = mongoose.Schema(\n  {\n    Nombre: {\n      type: String,\n    },\n\n    Contacto: {\n      type: String,\n    },\n\n    Email: {\n      type: String,\n    },\n    Telefono: Number,\n\n    Rubro: {\n      type: String,\n    },\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n  }\n)\n\nSuscripcionSchema.plugin(mongoosePaginate)\nSuscripcionSchema.index({\n  Nombre: 'text',\n  Contacto: 'text',\n  Email: 'text',\n  Telefono: 'text',\n  Rubro: 'text',\n})\n\nconst myModel = (module.exports = mongoose.model('Suscripcion', SuscripcionSchema, 'suscripcion'))\nmyModel.schema = SuscripcionSchema\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,gBAAgB,GAAGD,OAAO,CAAC,sBAAsB,CAAC;AAExD,MAAME,iBAAiB,GAAGH,QAAQ,CAACI,MAAM,CACvC;EACEC,MAAM,EAAE;IACNC,IAAI,EAAEC;EACR,CAAC;EAEDC,QAAQ,EAAE;IACRF,IAAI,EAAEC;EACR,CAAC;EAEDE,KAAK,EAAE;IACLH,IAAI,EAAEC;EACR,CAAC;EACDG,QAAQ,EAAEC,MAAM;EAEhBC,KAAK,EAAE;IACLN,IAAI,EAAEC;EACR;AACF,CAAC,EACD;EACEM,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAK;AAC3B,CACF,CAAC;AAEDZ,iBAAiB,CAACa,MAAM,CAACd,gBAAgB,CAAC;AAC1CC,iBAAiB,CAACc,KAAK,CAAC;EACtBZ,MAAM,EAAE,MAAM;EACdG,QAAQ,EAAE,MAAM;EAChBC,KAAK,EAAE,MAAM;EACbC,QAAQ,EAAE,MAAM;EAChBE,KAAK,EAAE;AACT,CAAC,CAAC;AAEF,MAAMM,OAAO,GAAIC,MAAM,CAACC,OAAO,GAAGpB,QAAQ,CAACqB,KAAK,CAAC,aAAa,EAAElB,iBAAiB,EAAE,aAAa,CAAE;AAClGe,OAAO,CAACI,MAAM,GAAGnB,iBAAiB"}},"mtime":1683131264122},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/paginate.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"exports.paginate = (docs, options = {}) => {\n  if (!options.page) options.page = 1;\n  if (!options.limit) options.limit = 10;\n  const fromDoc = (parseInt(options.page) - 1) * parseInt(options.limit);\n  const toDoc = fromDoc + parseInt(options.limit);\n  console.log(options, fromDoc, toDoc);\n  return {\n    docs: docs.slice(fromDoc, toDoc),\n    hasNextPage: docs.length > toDoc,\n    hasPrevPage: options.page > 1,\n    limit: options.limit,\n    nextPage: options.page + 1,\n    page: options.page,\n    pagingCounter: 1,\n    prevPage: options.page > 1 ? options.page + 1 : null,\n    totalDocs: docs.length,\n    totalPages: Math.ceil(docs.length / options.limit)\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwicGFnaW5hdGUiLCJkb2NzIiwib3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImZyb21Eb2MiLCJwYXJzZUludCIsInRvRG9jIiwiY29uc29sZSIsImxvZyIsInNsaWNlIiwiaGFzTmV4dFBhZ2UiLCJsZW5ndGgiLCJoYXNQcmV2UGFnZSIsIm5leHRQYWdlIiwicGFnaW5nQ291bnRlciIsInByZXZQYWdlIiwidG90YWxEb2NzIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ndXN0YXZvL0FwdHVnby9idWlsZHMvc3VzY3JpcGNpb25jb3ByaW50ZXIvYmFjay1lbmQvYXBwLyIsInNvdXJjZXMiOlsicGFnaW5hdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5wYWdpbmF0ZSA9IChkb2NzLCBvcHRpb25zID0ge30pID0+IHtcbiAgaWYgKCFvcHRpb25zLnBhZ2UpIG9wdGlvbnMucGFnZSA9IDFcbiAgaWYgKCFvcHRpb25zLmxpbWl0KSBvcHRpb25zLmxpbWl0ID0gMTBcblxuICBjb25zdCBmcm9tRG9jID0gKHBhcnNlSW50KG9wdGlvbnMucGFnZSkgLSAxKSAqIHBhcnNlSW50KG9wdGlvbnMubGltaXQpXG4gIGNvbnN0IHRvRG9jID0gZnJvbURvYyArIHBhcnNlSW50KG9wdGlvbnMubGltaXQpXG4gIGNvbnNvbGUubG9nKG9wdGlvbnMsIGZyb21Eb2MsIHRvRG9jKVxuICByZXR1cm4ge1xuICAgIGRvY3M6IGRvY3Muc2xpY2UoZnJvbURvYywgdG9Eb2MpLFxuICAgIGhhc05leHRQYWdlOiBkb2NzLmxlbmd0aCA+IHRvRG9jLFxuICAgIGhhc1ByZXZQYWdlOiBvcHRpb25zLnBhZ2UgPiAxLFxuICAgIGxpbWl0OiBvcHRpb25zLmxpbWl0LFxuICAgIG5leHRQYWdlOiBvcHRpb25zLnBhZ2UgKyAxLFxuICAgIHBhZ2U6IG9wdGlvbnMucGFnZSxcbiAgICBwYWdpbmdDb3VudGVyOiAxLFxuICAgIHByZXZQYWdlOiBvcHRpb25zLnBhZ2UgPiAxID8gb3B0aW9ucy5wYWdlICsgMSA6IG51bGwsXG4gICAgdG90YWxEb2NzOiBkb2NzLmxlbmd0aCxcbiAgICB0b3RhbFBhZ2VzOiBNYXRoLmNlaWwoZG9jcy5sZW5ndGggLyBvcHRpb25zLmxpbWl0KSxcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBTyxDQUFDQyxRQUFRLEdBQUcsQ0FBQ0MsSUFBSSxFQUFFQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEtBQUs7RUFDekMsSUFBSSxDQUFDQSxPQUFPLENBQUNDLElBQUksRUFBRUQsT0FBTyxDQUFDQyxJQUFJLEdBQUcsQ0FBQztFQUNuQyxJQUFJLENBQUNELE9BQU8sQ0FBQ0UsS0FBSyxFQUFFRixPQUFPLENBQUNFLEtBQUssR0FBRyxFQUFFO0VBRXRDLE1BQU1DLE9BQU8sR0FBRyxDQUFDQyxRQUFRLENBQUNKLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJRyxRQUFRLENBQUNKLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDO0VBQ3RFLE1BQU1HLEtBQUssR0FBR0YsT0FBTyxHQUFHQyxRQUFRLENBQUNKLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDO0VBQy9DSSxPQUFPLENBQUNDLEdBQUcsQ0FBQ1AsT0FBTyxFQUFFRyxPQUFPLEVBQUVFLEtBQUssQ0FBQztFQUNwQyxPQUFPO0lBQ0xOLElBQUksRUFBRUEsSUFBSSxDQUFDUyxLQUFLLENBQUNMLE9BQU8sRUFBRUUsS0FBSyxDQUFDO0lBQ2hDSSxXQUFXLEVBQUVWLElBQUksQ0FBQ1csTUFBTSxHQUFHTCxLQUFLO0lBQ2hDTSxXQUFXLEVBQUVYLE9BQU8sQ0FBQ0MsSUFBSSxHQUFHLENBQUM7SUFDN0JDLEtBQUssRUFBRUYsT0FBTyxDQUFDRSxLQUFLO0lBQ3BCVSxRQUFRLEVBQUVaLE9BQU8sQ0FBQ0MsSUFBSSxHQUFHLENBQUM7SUFDMUJBLElBQUksRUFBRUQsT0FBTyxDQUFDQyxJQUFJO0lBQ2xCWSxhQUFhLEVBQUUsQ0FBQztJQUNoQkMsUUFBUSxFQUFFZCxPQUFPLENBQUNDLElBQUksR0FBRyxDQUFDLEdBQUdELE9BQU8sQ0FBQ0MsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJO0lBQ3BEYyxTQUFTLEVBQUVoQixJQUFJLENBQUNXLE1BQU07SUFDdEJNLFVBQVUsRUFBRUMsSUFBSSxDQUFDQyxJQUFJLENBQUNuQixJQUFJLENBQUNXLE1BQU0sR0FBR1YsT0FBTyxDQUFDRSxLQUFLO0VBQ25ELENBQUM7QUFDSCxDQUFDIn0=","map":{"version":3,"names":["exports","paginate","docs","options","page","limit","fromDoc","parseInt","toDoc","console","log","slice","hasNextPage","length","hasPrevPage","nextPage","pagingCounter","prevPage","totalDocs","totalPages","Math","ceil"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/","sources":["paginate.js"],"sourcesContent":["exports.paginate = (docs, options = {}) => {\n  if (!options.page) options.page = 1\n  if (!options.limit) options.limit = 10\n\n  const fromDoc = (parseInt(options.page) - 1) * parseInt(options.limit)\n  const toDoc = fromDoc + parseInt(options.limit)\n  console.log(options, fromDoc, toDoc)\n  return {\n    docs: docs.slice(fromDoc, toDoc),\n    hasNextPage: docs.length > toDoc,\n    hasPrevPage: options.page > 1,\n    limit: options.limit,\n    nextPage: options.page + 1,\n    page: options.page,\n    pagingCounter: 1,\n    prevPage: options.page > 1 ? options.page + 1 : null,\n    totalDocs: docs.length,\n    totalPages: Math.ceil(docs.length / options.limit),\n  }\n}\n"],"mappings":"AAAAA,OAAO,CAACC,QAAQ,GAAG,CAACC,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACzC,IAAI,CAACA,OAAO,CAACC,IAAI,EAAED,OAAO,CAACC,IAAI,GAAG,CAAC;EACnC,IAAI,CAACD,OAAO,CAACE,KAAK,EAAEF,OAAO,CAACE,KAAK,GAAG,EAAE;EAEtC,MAAMC,OAAO,GAAG,CAACC,QAAQ,CAACJ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,IAAIG,QAAQ,CAACJ,OAAO,CAACE,KAAK,CAAC;EACtE,MAAMG,KAAK,GAAGF,OAAO,GAAGC,QAAQ,CAACJ,OAAO,CAACE,KAAK,CAAC;EAC/CI,OAAO,CAACC,GAAG,CAACP,OAAO,EAAEG,OAAO,EAAEE,KAAK,CAAC;EACpC,OAAO;IACLN,IAAI,EAAEA,IAAI,CAACS,KAAK,CAACL,OAAO,EAAEE,KAAK,CAAC;IAChCI,WAAW,EAAEV,IAAI,CAACW,MAAM,GAAGL,KAAK;IAChCM,WAAW,EAAEX,OAAO,CAACC,IAAI,GAAG,CAAC;IAC7BC,KAAK,EAAEF,OAAO,CAACE,KAAK;IACpBU,QAAQ,EAAEZ,OAAO,CAACC,IAAI,GAAG,CAAC;IAC1BA,IAAI,EAAED,OAAO,CAACC,IAAI;IAClBY,aAAa,EAAE,CAAC;IAChBC,QAAQ,EAAEd,OAAO,CAACC,IAAI,GAAG,CAAC,GAAGD,OAAO,CAACC,IAAI,GAAG,CAAC,GAAG,IAAI;IACpDc,SAAS,EAAEhB,IAAI,CAACW,MAAM;IACtBM,UAAU,EAAEC,IAAI,CAACC,IAAI,CAACnB,IAAI,CAACW,MAAM,GAAGV,OAAO,CAACE,KAAK;EACnD,CAAC;AACH,CAAC"}},"mtime":1691454529461},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/services/errors.service.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"module.exports = {\n  prepareError\n};\nfunction prepareError(err) {\n  let newErr = {\n    code: 422\n  };\n  if (err.code === 11000) {\n    newErr.field = Object.keys(err.keyPattern)[0];\n    newErr.message = `Duplicated Value for ${Object.keys(err.keyPattern)[0]}`;\n  } else {\n    newErr.field = Object.keys(err.errors)[0];\n    if (err.errors[newErr.field].kind === 'required') {\n      newErr.message = `A value is required for ${newErr.field}`;\n    } else {\n      newErr.message = `${newErr.field}: ${err.errors[newErr.field].reason}`;\n    }\n  }\n  return newErr;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicHJlcGFyZUVycm9yIiwiZXJyIiwibmV3RXJyIiwiY29kZSIsImZpZWxkIiwiT2JqZWN0Iiwia2V5cyIsImtleVBhdHRlcm4iLCJtZXNzYWdlIiwiZXJyb3JzIiwia2luZCIsInJlYXNvbiJdLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2by9BcHR1Z28vYnVpbGRzL3N1c2NyaXBjaW9uY29wcmludGVyL2JhY2stZW5kL2FwcC9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImVycm9ycy5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBwcmVwYXJlRXJyb3IsXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVFcnJvcihlcnIpIHtcbiAgbGV0IG5ld0VyciA9IHtcbiAgICBjb2RlOiA0MjIsXG4gIH1cbiAgaWYgKGVyci5jb2RlID09PSAxMTAwMCkge1xuICAgIG5ld0Vyci5maWVsZCA9IE9iamVjdC5rZXlzKGVyci5rZXlQYXR0ZXJuKVswXVxuICAgIG5ld0Vyci5tZXNzYWdlID0gYER1cGxpY2F0ZWQgVmFsdWUgZm9yICR7T2JqZWN0LmtleXMoZXJyLmtleVBhdHRlcm4pWzBdfWBcbiAgfSBlbHNlIHtcbiAgICBuZXdFcnIuZmllbGQgPSBPYmplY3Qua2V5cyhlcnIuZXJyb3JzKVswXVxuICAgIGlmIChlcnIuZXJyb3JzW25ld0Vyci5maWVsZF0ua2luZCA9PT0gJ3JlcXVpcmVkJykge1xuICAgICAgbmV3RXJyLm1lc3NhZ2UgPSBgQSB2YWx1ZSBpcyByZXF1aXJlZCBmb3IgJHtuZXdFcnIuZmllbGR9YFxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFcnIubWVzc2FnZSA9IGAke25ld0Vyci5maWVsZH06ICR7ZXJyLmVycm9yc1tuZXdFcnIuZmllbGRdLnJlYXNvbn1gXG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdFcnJcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZDO0FBQ0YsQ0FBQztBQUVELFNBQVNBLFlBQVlBLENBQUNDLEdBQUcsRUFBRTtFQUN6QixJQUFJQyxNQUFNLEdBQUc7SUFDWEMsSUFBSSxFQUFFO0VBQ1IsQ0FBQztFQUNELElBQUlGLEdBQUcsQ0FBQ0UsSUFBSSxLQUFLLEtBQUssRUFBRTtJQUN0QkQsTUFBTSxDQUFDRSxLQUFLLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDTCxHQUFHLENBQUNNLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3Q0wsTUFBTSxDQUFDTSxPQUFPLEdBQUksd0JBQXVCSCxNQUFNLENBQUNDLElBQUksQ0FBQ0wsR0FBRyxDQUFDTSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUUsRUFBQztFQUMzRSxDQUFDLE1BQU07SUFDTEwsTUFBTSxDQUFDRSxLQUFLLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDTCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJUixHQUFHLENBQUNRLE1BQU0sQ0FBQ1AsTUFBTSxDQUFDRSxLQUFLLENBQUMsQ0FBQ00sSUFBSSxLQUFLLFVBQVUsRUFBRTtNQUNoRFIsTUFBTSxDQUFDTSxPQUFPLEdBQUksMkJBQTBCTixNQUFNLENBQUNFLEtBQU0sRUFBQztJQUM1RCxDQUFDLE1BQU07TUFDTEYsTUFBTSxDQUFDTSxPQUFPLEdBQUksR0FBRU4sTUFBTSxDQUFDRSxLQUFNLEtBQUlILEdBQUcsQ0FBQ1EsTUFBTSxDQUFDUCxNQUFNLENBQUNFLEtBQUssQ0FBQyxDQUFDTyxNQUFPLEVBQUM7SUFDeEU7RUFDRjtFQUNBLE9BQU9ULE1BQU07QUFDZiJ9","map":{"version":3,"names":["module","exports","prepareError","err","newErr","code","field","Object","keys","keyPattern","message","errors","kind","reason"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/services/","sources":["errors.service.js"],"sourcesContent":["module.exports = {\n  prepareError,\n}\n\nfunction prepareError(err) {\n  let newErr = {\n    code: 422,\n  }\n  if (err.code === 11000) {\n    newErr.field = Object.keys(err.keyPattern)[0]\n    newErr.message = `Duplicated Value for ${Object.keys(err.keyPattern)[0]}`\n  } else {\n    newErr.field = Object.keys(err.errors)[0]\n    if (err.errors[newErr.field].kind === 'required') {\n      newErr.message = `A value is required for ${newErr.field}`\n    } else {\n      newErr.message = `${newErr.field}: ${err.errors[newErr.field].reason}`\n    }\n  }\n  return newErr\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAG;EACfC;AACF,CAAC;AAED,SAASA,YAAYA,CAACC,GAAG,EAAE;EACzB,IAAIC,MAAM,GAAG;IACXC,IAAI,EAAE;EACR,CAAC;EACD,IAAIF,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;IACtBD,MAAM,CAACE,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACL,GAAG,CAACM,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7CL,MAAM,CAACM,OAAO,GAAI,wBAAuBH,MAAM,CAACC,IAAI,CAACL,GAAG,CAACM,UAAU,CAAC,CAAC,CAAC,CAAE,EAAC;EAC3E,CAAC,MAAM;IACLL,MAAM,CAACE,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACL,GAAG,CAACQ,MAAM,CAAC,CAAC,CAAC,CAAC;IACzC,IAAIR,GAAG,CAACQ,MAAM,CAACP,MAAM,CAACE,KAAK,CAAC,CAACM,IAAI,KAAK,UAAU,EAAE;MAChDR,MAAM,CAACM,OAAO,GAAI,2BAA0BN,MAAM,CAACE,KAAM,EAAC;IAC5D,CAAC,MAAM;MACLF,MAAM,CAACM,OAAO,GAAI,GAAEN,MAAM,CAACE,KAAM,KAAIH,GAAG,CAACQ,MAAM,CAACP,MAAM,CAACE,KAAK,CAAC,CAACO,MAAO,EAAC;IACxE;EACF;EACA,OAAOT,MAAM;AACf"}},"mtime":1691454529821},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/suscripciones.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"module.exports = app => {\n  const suscripciones = require('../controllers/suscripciones.controller.js');\n\n  // Get all records\n  app.get('/api/suscripciones', (req, res) => {\n    suscripciones.findAll({\n      req,\n      res\n    });\n  });\n\n  // Search records\n  app.get('/api/suscripciones/search', (req, res) => {\n    suscripciones.find({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    });\n  });\n\n  // Retrieve a single record\n  app.get('/api/suscripciones/:ID', (req, res) => {\n    suscripciones.findOne({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    });\n  });\n\n  // Add a record\n  app.post('/api/suscripciones', (req, res) => {\n    suscripciones.createAsPromise({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    }).catch(e => {\n      res.status(e.code || 500).send(e);\n    });\n  });\n\n  // Update a record\n  app.put('/api/suscripciones/:ID', (req, res) => {\n    suscripciones.update({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    }).catch(e => {\n      res.status(500).send(e);\n    });\n  });\n\n  // Delete a record\n  app.delete('/api/suscripciones/:ID', (req, res) => {\n    suscripciones.delete({\n      req,\n      res\n    }).then(result => {\n      res.send(result);\n    }).catch(e => {\n      res.status(500).send(e);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwic3VzY3JpcGNpb25lcyIsInJlcXVpcmUiLCJnZXQiLCJyZXEiLCJyZXMiLCJmaW5kQWxsIiwiZmluZCIsInRoZW4iLCJyZXN1bHQiLCJzZW5kIiwiZmluZE9uZSIsInBvc3QiLCJjcmVhdGVBc1Byb21pc2UiLCJjYXRjaCIsImUiLCJzdGF0dXMiLCJjb2RlIiwicHV0IiwidXBkYXRlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ndXN0YXZvL0FwdHVnby9idWlsZHMvc3VzY3JpcGNpb25jb3ByaW50ZXIvYmFjay1lbmQvYXBwL3JvdXRlcy8iLCJzb3VyY2VzIjpbInN1c2NyaXBjaW9uZXMucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKGFwcCkgPT4ge1xuICBjb25zdCBzdXNjcmlwY2lvbmVzID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvc3VzY3JpcGNpb25lcy5jb250cm9sbGVyLmpzJylcblxuICAvLyBHZXQgYWxsIHJlY29yZHNcbiAgYXBwLmdldCgnL2FwaS9zdXNjcmlwY2lvbmVzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgc3VzY3JpcGNpb25lcy5maW5kQWxsKHsgcmVxLCByZXMgfSlcbiAgfSlcblxuICAvLyBTZWFyY2ggcmVjb3Jkc1xuICBhcHAuZ2V0KCcvYXBpL3N1c2NyaXBjaW9uZXMvc2VhcmNoJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgc3VzY3JpcGNpb25lcy5maW5kKHsgcmVxLCByZXMgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICByZXMuc2VuZChyZXN1bHQpXG4gICAgfSlcbiAgfSlcblxuICAvLyBSZXRyaWV2ZSBhIHNpbmdsZSByZWNvcmRcbiAgYXBwLmdldCgnL2FwaS9zdXNjcmlwY2lvbmVzLzpJRCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHN1c2NyaXBjaW9uZXMuZmluZE9uZSh7IHJlcSwgcmVzIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgcmVzLnNlbmQocmVzdWx0KVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gQWRkIGEgcmVjb3JkXG4gIGFwcC5wb3N0KCcvYXBpL3N1c2NyaXBjaW9uZXMnLCAocmVxLCByZXMpID0+IHtcbiAgICBzdXNjcmlwY2lvbmVzXG4gICAgICAuY3JlYXRlQXNQcm9taXNlKHsgcmVxLCByZXMgfSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzLnNlbmQocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKGUuY29kZSB8fCA1MDApLnNlbmQoZSlcbiAgICAgIH0pXG4gIH0pXG5cbiAgLy8gVXBkYXRlIGEgcmVjb3JkXG4gIGFwcC5wdXQoJy9hcGkvc3VzY3JpcGNpb25lcy86SUQnLCAocmVxLCByZXMpID0+IHtcbiAgICBzdXNjcmlwY2lvbmVzXG4gICAgICAudXBkYXRlKHsgcmVxLCByZXMgfSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzLnNlbmQocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlKVxuICAgICAgfSlcbiAgfSlcblxuICAvLyBEZWxldGUgYSByZWNvcmRcbiAgYXBwLmRlbGV0ZSgnL2FwaS9zdXNjcmlwY2lvbmVzLzpJRCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHN1c2NyaXBjaW9uZXNcbiAgICAgIC5kZWxldGUoeyByZXEsIHJlcyB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXMuc2VuZChyZXN1bHQpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpXG4gICAgICB9KVxuICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFPLEdBQUlDLEdBQUcsSUFBSztF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","map":{"version":3,"names":["module","exports","app","suscripciones","require","get","req","res","findAll","find","then","result","send","findOne","post","createAsPromise","catch","e","status","code","put","update","delete"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/routes/","sources":["suscripciones.routes.js"],"sourcesContent":["module.exports = (app) => {\n  const suscripciones = require('../controllers/suscripciones.controller.js')\n\n  // Get all records\n  app.get('/api/suscripciones', (req, res) => {\n    suscripciones.findAll({ req, res })\n  })\n\n  // Search records\n  app.get('/api/suscripciones/search', (req, res) => {\n    suscripciones.find({ req, res }).then((result) => {\n      res.send(result)\n    })\n  })\n\n  // Retrieve a single record\n  app.get('/api/suscripciones/:ID', (req, res) => {\n    suscripciones.findOne({ req, res }).then((result) => {\n      res.send(result)\n    })\n  })\n\n  // Add a record\n  app.post('/api/suscripciones', (req, res) => {\n    suscripciones\n      .createAsPromise({ req, res })\n      .then((result) => {\n        res.send(result)\n      })\n      .catch((e) => {\n        res.status(e.code || 500).send(e)\n      })\n  })\n\n  // Update a record\n  app.put('/api/suscripciones/:ID', (req, res) => {\n    suscripciones\n      .update({ req, res })\n      .then((result) => {\n        res.send(result)\n      })\n      .catch((e) => {\n        res.status(500).send(e)\n      })\n  })\n\n  // Delete a record\n  app.delete('/api/suscripciones/:ID', (req, res) => {\n    suscripciones\n      .delete({ req, res })\n      .then((result) => {\n        res.send(result)\n      })\n      .catch((e) => {\n        res.status(500).send(e)\n      })\n  })\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAIC,GAAG,IAAK;EACxB,MAAMC,aAAa,GAAGC,OAAO,CAAC,4CAA4C,CAAC;;EAE3E;EACAF,GAAG,CAACG,GAAG,CAAC,oBAAoB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC1CJ,aAAa,CAACK,OAAO,CAAC;MAAEF,GAAG;MAAEC;IAAI,CAAC,CAAC;EACrC,CAAC,CAAC;;EAEF;EACAL,GAAG,CAACG,GAAG,CAAC,2BAA2B,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IACjDJ,aAAa,CAACM,IAAI,CAAC;MAAEH,GAAG;MAAEC;IAAI,CAAC,CAAC,CAACG,IAAI,CAAEC,MAAM,IAAK;MAChDJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC,CAAC;;EAEF;EACAT,GAAG,CAACG,GAAG,CAAC,wBAAwB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC9CJ,aAAa,CAACU,OAAO,CAAC;MAAEP,GAAG;MAAEC;IAAI,CAAC,CAAC,CAACG,IAAI,CAAEC,MAAM,IAAK;MACnDJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC,CAAC;;EAEF;EACAT,GAAG,CAACY,IAAI,CAAC,oBAAoB,EAAE,CAACR,GAAG,EAAEC,GAAG,KAAK;IAC3CJ,aAAa,CACVY,eAAe,CAAC;MAAET,GAAG;MAAEC;IAAI,CAAC,CAAC,CAC7BG,IAAI,CAAEC,MAAM,IAAK;MAChBJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,CAAC,IAAK;MACZV,GAAG,CAACW,MAAM,CAACD,CAAC,CAACE,IAAI,IAAI,GAAG,CAAC,CAACP,IAAI,CAACK,CAAC,CAAC;IACnC,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;EACAf,GAAG,CAACkB,GAAG,CAAC,wBAAwB,EAAE,CAACd,GAAG,EAAEC,GAAG,KAAK;IAC9CJ,aAAa,CACVkB,MAAM,CAAC;MAAEf,GAAG;MAAEC;IAAI,CAAC,CAAC,CACpBG,IAAI,CAAEC,MAAM,IAAK;MAChBJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,CAAC,IAAK;MACZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACN,IAAI,CAACK,CAAC,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;EACAf,GAAG,CAACoB,MAAM,CAAC,wBAAwB,EAAE,CAAChB,GAAG,EAAEC,GAAG,KAAK;IACjDJ,aAAa,CACVmB,MAAM,CAAC;MAAEhB,GAAG;MAAEC;IAAI,CAAC,CAAC,CACpBG,IAAI,CAAEC,MAAM,IAAK;MAChBJ,GAAG,CAACK,IAAI,CAACD,MAAM,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,CAAC,IAAK;MACZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACN,IAAI,CAACK,CAAC,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC"}},"mtime":1691454529605},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/controllers/suscripciones.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const Suscripciones = require('../models/suscripciones.model.js');\nconst fs = require('fs');\nconst paginate = require('../paginate');\nconst errors = require('../services/errors.service');\n\n// Create and Save a new suscripcion\nexports.create = async options => {\n  const data = options.req ? options.req.body : options.data;\n  const updatedData = {};\n  if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto;\n  if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email;\n  if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono;\n  if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro;\n  if (typeof data.PoseesoftwaredeGestionDocumental !== 'undefined') updatedData['PoseesoftwaredeGestionDocumental'] = data.PoseesoftwaredeGestionDocumental;\n\n  // Create a suscripcion\n  const suscripcion = new Suscripciones(updatedData);\n\n  // Save suscripcion in the database\n  suscripcion.save().then(data => {\n    exports.findOne({\n      ID: data._id,\n      res: options.res\n    });\n  }).catch(err => {\n    options.res.status(500).send({\n      message: err.message || 'Some error occurred while saving the record.'\n    });\n  });\n};\nexports.createAsPromise = options => {\n  return new Promise(async (resolve, reject) => {\n    const data = options.req ? options.req.body : options.data;\n    const updatedData = {};\n    if (data._id) updatedData._id = data._id;\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto;\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email;\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono;\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro;\n    if (typeof data.PoseesoftwaredeGestionDocumental !== 'undefined') updatedData['PoseesoftwaredeGestionDocumental'] = data.PoseesoftwaredeGestionDocumental;\n\n    // Create a suscripcion\n    const suscripcion = new Suscripciones(updatedData);\n\n    // Save suscripcion in the database\n    suscripcion.save().then(result => {\n      if (options.skipfind) {\n        resolve(result);\n      } else {\n        exports.findOne({\n          ID: result._id,\n          res: options.res\n        }).then(result => {\n          resolve(result);\n        });\n      }\n    }).catch(err => {\n      reject(errors.prepareError(err));\n    });\n  });\n};\n\n// Retrieve and return all Suscripciones from the database.\nexports.findAll = options => {\n  const query = options.query ? options.query : options.req.query;\n  if (typeof query.populate === 'undefined') query.populate = 'true';\n  const data = options.req ? options.req.body : options.data;\n  if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort);\n  const findString = {};\n  if (query.fixedSearch) {\n    query.fixedSearch = JSON.parse(query.fixedSearch);\n    findString[query.fixedSearch.field] = {\n      $regex: new RegExp(query.fixedSearch.value, 'i')\n    };\n  }\n  Suscripciones.find(findString).sort(query.sort && {\n    [query.sort.field]: query.sort.method === 'desc' ? -1 : 1\n  }).then(suscripciones => {\n    options.res.json(paginate.paginate(suscripciones, {\n      page: query.page,\n      limit: query.limit || 10\n    }));\n  }).catch(err => {\n    options.res.status(500).send({\n      message: err.message || 'Some error occurred while retrieving records.'\n    });\n  });\n};\nexports.find = options => {\n  return new Promise((resolve, reject) => {\n    const query = options.query ? options.query : options.req.query;\n    const data = options.req ? options.req.body : options.data;\n    let findString = query.searchString ? {\n      $text: {\n        $search: query.searchString\n      }\n    } : {};\n    if (query.searchField) {\n      if (Suscripciones.schema.path(query.searchField).instance === 'Boolean') {\n        findString = {\n          [query.searchField]: JSON.parse(query.searchString)\n        };\n      } else if (Suscripciones.schema.path(query.searchField).instance === 'Date') {\n        findString = {\n          $expr: {\n            $eq: [query.searchString, {\n              $dateToString: {\n                date: `$${query.searchField}`,\n                format: '%Y-%m-%d'\n              }\n            }]\n          }\n        };\n      } else {\n        findString = {\n          [query.searchField]: {\n            $regex: new RegExp(query.searchString, 'i')\n          }\n        };\n      }\n      if (Suscripciones.schema.path(query.searchField).instance === 'ObjectID' || Suscripciones.schema.path(query.searchField).instance === 'Array') {\n        findString = {\n          [query.searchField]: require('mongoose').Types.ObjectId(query.searchString)\n        };\n      }\n    } else if (query.filters) {\n      query.filters.forEach(filter => {\n        const parsed = typeof filter === 'string' ? JSON.parse(filter) : filter;\n        findString[parsed.field] = parsed.value;\n      });\n    }\n    if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort);\n    if (query.fixedSearch) {\n      query.fixedSearch = JSON.parse(query.fixedSearch);\n      findString[query.fixedSearch.field] = {\n        $regex: new RegExp(query.fixedSearch.value, 'i')\n      };\n    }\n    Suscripciones.find(findString).sort(query.sort && {\n      [query.sort.field]: query.sort.method === 'desc' ? -1 : 1\n    }).then(suscripcion => {\n      resolve(paginate.paginate(suscripcion, {\n        page: query.page,\n        limit: query.limit || 10\n      }));\n    }).catch(err => {\n      options.res.status(500).send({\n        message: err.message || 'Some error occurred while retrieving records.'\n      });\n    });\n  });\n};\n\n// Find a single suscripcion with a ID\nexports.findOne = options => {\n  return new Promise((resolve, reject) => {\n    const query = {\n      populate: 'true'\n    };\n    const id = options.req ? options.req.params.ID : options.ID;\n    Suscripciones.findById(id).then(suscripcion => {\n      if (!suscripcion) {\n        return options.res.status(404).send({\n          message: 'suscripcion not found with id ' + id\n        });\n      }\n      resolve(paginate.paginate([suscripcion]));\n    }).catch(err => {\n      if (err.kind === 'ObjectId') {\n        return options.res.status(404).send({\n          message: 'suscripcion not found with id ' + id\n        });\n      }\n      return options.res.status(500).send({\n        message: 'Error retrieving suscripcion with id ' + id\n      });\n    });\n  });\n};\n\n// Update a suscripcion identified by the ID in the request\nexports.update = options => {\n  return new Promise(async (resolve, reject) => {\n    const id = options.req ? options.req.params.ID : options.ID;\n    const data = options.req ? options.req.body : options.data;\n    const updatedData = {};\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto;\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email;\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono;\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro;\n    if (typeof data.PoseesoftwaredeGestionDocumental !== 'undefined') updatedData['PoseesoftwaredeGestionDocumental'] = data.PoseesoftwaredeGestionDocumental;\n\n    // Find suscripcion and update it with the request body\n    const query = {\n      populate: 'true'\n    };\n    Suscripciones.findByIdAndUpdate(id, updatedData, {\n      new: true\n    }).then(result => {\n      resolve(result);\n    }).catch(err => {\n      reject(err);\n    });\n  });\n};\n\n// Delete a suscripcion with the specified ID in the request\nexports.delete = options => {\n  return new Promise((resolve, reject) => {\n    const params = options.req ? options.req.params : options;\n    let theFilter = {\n      _id: params.ID\n    };\n    if (options.queryString && options.queryField) {\n      theFilter = {\n        [options.queryField]: options.queryString\n      };\n    }\n    Suscripciones.deleteMany(theFilter).then(result => {\n      resolve(result);\n    }).catch(e => {\n      reject(e);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTdXNjcmlwY2lvbmVzIiwicmVxdWlyZSIsImZzIiwicGFnaW5hdGUiLCJlcnJvcnMiLCJleHBvcnRzIiwiY3JlYXRlIiwib3B0aW9ucyIsImRhdGEiLCJyZXEiLCJib2R5IiwidXBkYXRlZERhdGEiLCJDb250YWN0byIsIkVtYWlsIiwiVGVsZWZvbm8iLCJSdWJybyIsIlBvc2Vlc29mdHdhcmVkZUdlc3Rpb25Eb2N1bWVudGFsIiwic3VzY3JpcGNpb24iLCJzYXZlIiwidGhlbiIsImZpbmRPbmUiLCJJRCIsIl9pZCIsInJlcyIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJjcmVhdGVBc1Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsInNraXBmaW5kIiwicHJlcGFyZUVycm9yIiwiZmluZEFsbCIsInF1ZXJ5IiwicG9wdWxhdGUiLCJzb3J0IiwiSlNPTiIsInBhcnNlIiwiZmluZFN0cmluZyIsImZpeGVkU2VhcmNoIiwiZmllbGQiLCIkcmVnZXgiLCJSZWdFeHAiLCJ2YWx1ZSIsImZpbmQiLCJtZXRob2QiLCJzdXNjcmlwY2lvbmVzIiwianNvbiIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaFN0cmluZyIsIiR0ZXh0IiwiJHNlYXJjaCIsInNlYXJjaEZpZWxkIiwic2NoZW1hIiwicGF0aCIsImluc3RhbmNlIiwiJGV4cHIiLCIkZXEiLCIkZGF0ZVRvU3RyaW5nIiwiZGF0ZSIsImZvcm1hdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJmaWx0ZXJzIiwiZm9yRWFjaCIsImZpbHRlciIsInBhcnNlZCIsImlkIiwicGFyYW1zIiwiZmluZEJ5SWQiLCJraW5kIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJkZWxldGUiLCJ0aGVGaWx0ZXIiLCJxdWVyeVN0cmluZyIsInF1ZXJ5RmllbGQiLCJkZWxldGVNYW55IiwiZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2by9BcHR1Z28vYnVpbGRzL3N1c2NyaXBjaW9uY29wcmludGVyL2JhY2stZW5kL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbInN1c2NyaXBjaW9uZXMuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTdXNjcmlwY2lvbmVzID0gcmVxdWlyZSgnLi4vbW9kZWxzL3N1c2NyaXBjaW9uZXMubW9kZWwuanMnKVxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG5jb25zdCBwYWdpbmF0ZSA9IHJlcXVpcmUoJy4uL3BhZ2luYXRlJylcbmNvbnN0IGVycm9ycyA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL2Vycm9ycy5zZXJ2aWNlJylcblxuLy8gQ3JlYXRlIGFuZCBTYXZlIGEgbmV3IHN1c2NyaXBjaW9uXG5leHBvcnRzLmNyZWF0ZSA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBvcHRpb25zLnJlcSA/IG9wdGlvbnMucmVxLmJvZHkgOiBvcHRpb25zLmRhdGFcbiAgY29uc3QgdXBkYXRlZERhdGEgPSB7fVxuXG4gIGlmICh0eXBlb2YgZGF0YS5Db250YWN0byAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydDb250YWN0byddID0gZGF0YS5Db250YWN0b1xuXG4gIGlmICh0eXBlb2YgZGF0YS5FbWFpbCAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydFbWFpbCddID0gZGF0YS5FbWFpbFxuXG4gIGlmICh0eXBlb2YgZGF0YS5UZWxlZm9ubyAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydUZWxlZm9ubyddID0gZGF0YS5UZWxlZm9ub1xuXG4gIGlmICh0eXBlb2YgZGF0YS5SdWJybyAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydSdWJybyddID0gZGF0YS5SdWJyb1xuXG4gIGlmICh0eXBlb2YgZGF0YS5Qb3NlZXNvZnR3YXJlZGVHZXN0aW9uRG9jdW1lbnRhbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgdXBkYXRlZERhdGFbJ1Bvc2Vlc29mdHdhcmVkZUdlc3Rpb25Eb2N1bWVudGFsJ10gPSBkYXRhLlBvc2Vlc29mdHdhcmVkZUdlc3Rpb25Eb2N1bWVudGFsXG5cbiAgLy8gQ3JlYXRlIGEgc3VzY3JpcGNpb25cbiAgY29uc3Qgc3VzY3JpcGNpb24gPSBuZXcgU3VzY3JpcGNpb25lcyh1cGRhdGVkRGF0YSlcblxuICAvLyBTYXZlIHN1c2NyaXBjaW9uIGluIHRoZSBkYXRhYmFzZVxuICBzdXNjcmlwY2lvblxuICAgIC5zYXZlKClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgZXhwb3J0cy5maW5kT25lKHsgSUQ6IGRhdGEuX2lkLCByZXM6IG9wdGlvbnMucmVzIH0pXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgb3B0aW9ucy5yZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlIHx8ICdTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIHNhdmluZyB0aGUgcmVjb3JkLicsXG4gICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydHMuY3JlYXRlQXNQcm9taXNlID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBkYXRhID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5ib2R5IDogb3B0aW9ucy5kYXRhXG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSB7fVxuICAgIGlmIChkYXRhLl9pZCkgdXBkYXRlZERhdGEuX2lkID0gZGF0YS5faWRcblxuICAgIGlmICh0eXBlb2YgZGF0YS5Db250YWN0byAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydDb250YWN0byddID0gZGF0YS5Db250YWN0b1xuXG4gICAgaWYgKHR5cGVvZiBkYXRhLkVtYWlsICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ0VtYWlsJ10gPSBkYXRhLkVtYWlsXG5cbiAgICBpZiAodHlwZW9mIGRhdGEuVGVsZWZvbm8gIT09ICd1bmRlZmluZWQnKSB1cGRhdGVkRGF0YVsnVGVsZWZvbm8nXSA9IGRhdGEuVGVsZWZvbm9cblxuICAgIGlmICh0eXBlb2YgZGF0YS5SdWJybyAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydSdWJybyddID0gZGF0YS5SdWJyb1xuXG4gICAgaWYgKHR5cGVvZiBkYXRhLlBvc2Vlc29mdHdhcmVkZUdlc3Rpb25Eb2N1bWVudGFsICE9PSAndW5kZWZpbmVkJylcbiAgICAgIHVwZGF0ZWREYXRhWydQb3NlZXNvZnR3YXJlZGVHZXN0aW9uRG9jdW1lbnRhbCddID0gZGF0YS5Qb3NlZXNvZnR3YXJlZGVHZXN0aW9uRG9jdW1lbnRhbFxuXG4gICAgLy8gQ3JlYXRlIGEgc3VzY3JpcGNpb25cbiAgICBjb25zdCBzdXNjcmlwY2lvbiA9IG5ldyBTdXNjcmlwY2lvbmVzKHVwZGF0ZWREYXRhKVxuXG4gICAgLy8gU2F2ZSBzdXNjcmlwY2lvbiBpbiB0aGUgZGF0YWJhc2VcbiAgICBzdXNjcmlwY2lvblxuICAgICAgLnNhdmUoKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucy5za2lwZmluZCkge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cG9ydHMuZmluZE9uZSh7IElEOiByZXN1bHQuX2lkLCByZXM6IG9wdGlvbnMucmVzIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHJlamVjdChlcnJvcnMucHJlcGFyZUVycm9yKGVycikpXG4gICAgICB9KVxuICB9KVxufVxuXG4vLyBSZXRyaWV2ZSBhbmQgcmV0dXJuIGFsbCBTdXNjcmlwY2lvbmVzIGZyb20gdGhlIGRhdGFiYXNlLlxuZXhwb3J0cy5maW5kQWxsID0gKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBvcHRpb25zLnF1ZXJ5ID8gb3B0aW9ucy5xdWVyeSA6IG9wdGlvbnMucmVxLnF1ZXJ5XG4gIGlmICh0eXBlb2YgcXVlcnkucG9wdWxhdGUgPT09ICd1bmRlZmluZWQnKSBxdWVyeS5wb3B1bGF0ZSA9ICd0cnVlJ1xuICBjb25zdCBkYXRhID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5ib2R5IDogb3B0aW9ucy5kYXRhXG4gIGlmICh0eXBlb2YgcXVlcnkuc29ydCA9PT0gJ3N0cmluZycpIHF1ZXJ5LnNvcnQgPSBKU09OLnBhcnNlKHF1ZXJ5LnNvcnQpXG5cbiAgY29uc3QgZmluZFN0cmluZyA9IHt9XG4gIGlmIChxdWVyeS5maXhlZFNlYXJjaCkge1xuICAgIHF1ZXJ5LmZpeGVkU2VhcmNoID0gSlNPTi5wYXJzZShxdWVyeS5maXhlZFNlYXJjaClcbiAgICBmaW5kU3RyaW5nW3F1ZXJ5LmZpeGVkU2VhcmNoLmZpZWxkXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKHF1ZXJ5LmZpeGVkU2VhcmNoLnZhbHVlLCAnaScpIH1cbiAgfVxuXG4gIFN1c2NyaXBjaW9uZXMuZmluZChmaW5kU3RyaW5nKVxuICAgIC5zb3J0KHF1ZXJ5LnNvcnQgJiYgeyBbcXVlcnkuc29ydC5maWVsZF06IHF1ZXJ5LnNvcnQubWV0aG9kID09PSAnZGVzYycgPyAtMSA6IDEgfSlcblxuICAgIC50aGVuKChzdXNjcmlwY2lvbmVzKSA9PiB7XG4gICAgICBvcHRpb25zLnJlcy5qc29uKHBhZ2luYXRlLnBhZ2luYXRlKHN1c2NyaXBjaW9uZXMsIHsgcGFnZTogcXVlcnkucGFnZSwgbGltaXQ6IHF1ZXJ5LmxpbWl0IHx8IDEwIH0pKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIG9wdGlvbnMucmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSB8fCAnU29tZSBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXRyaWV2aW5nIHJlY29yZHMuJyxcbiAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0cy5maW5kID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IG9wdGlvbnMucXVlcnkgPyBvcHRpb25zLnF1ZXJ5IDogb3B0aW9ucy5yZXEucXVlcnlcbiAgICBjb25zdCBkYXRhID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5ib2R5IDogb3B0aW9ucy5kYXRhXG4gICAgbGV0IGZpbmRTdHJpbmcgPSBxdWVyeS5zZWFyY2hTdHJpbmcgPyB7ICR0ZXh0OiB7ICRzZWFyY2g6IHF1ZXJ5LnNlYXJjaFN0cmluZyB9IH0gOiB7fVxuICAgIGlmIChxdWVyeS5zZWFyY2hGaWVsZCkge1xuICAgICAgaWYgKFN1c2NyaXBjaW9uZXMuc2NoZW1hLnBhdGgocXVlcnkuc2VhcmNoRmllbGQpLmluc3RhbmNlID09PSAnQm9vbGVhbicpIHtcbiAgICAgICAgZmluZFN0cmluZyA9IHsgW3F1ZXJ5LnNlYXJjaEZpZWxkXTogSlNPTi5wYXJzZShxdWVyeS5zZWFyY2hTdHJpbmcpIH1cbiAgICAgIH0gZWxzZSBpZiAoU3VzY3JpcGNpb25lcy5zY2hlbWEucGF0aChxdWVyeS5zZWFyY2hGaWVsZCkuaW5zdGFuY2UgPT09ICdEYXRlJykge1xuICAgICAgICBmaW5kU3RyaW5nID0geyAkZXhwcjogeyAkZXE6IFtxdWVyeS5zZWFyY2hTdHJpbmcsIHsgJGRhdGVUb1N0cmluZzogeyBkYXRlOiBgJCR7cXVlcnkuc2VhcmNoRmllbGR9YCwgZm9ybWF0OiAnJVktJW0tJWQnIH0gfV0gfSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5kU3RyaW5nID0geyBbcXVlcnkuc2VhcmNoRmllbGRdOiB7ICRyZWdleDogbmV3IFJlZ0V4cChxdWVyeS5zZWFyY2hTdHJpbmcsICdpJykgfSB9XG4gICAgICB9XG5cbiAgICAgIGlmIChTdXNjcmlwY2lvbmVzLnNjaGVtYS5wYXRoKHF1ZXJ5LnNlYXJjaEZpZWxkKS5pbnN0YW5jZSA9PT0gJ09iamVjdElEJyB8fCBTdXNjcmlwY2lvbmVzLnNjaGVtYS5wYXRoKHF1ZXJ5LnNlYXJjaEZpZWxkKS5pbnN0YW5jZSA9PT0gJ0FycmF5Jykge1xuICAgICAgICBmaW5kU3RyaW5nID0geyBbcXVlcnkuc2VhcmNoRmllbGRdOiByZXF1aXJlKCdtb25nb29zZScpLlR5cGVzLk9iamVjdElkKHF1ZXJ5LnNlYXJjaFN0cmluZykgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocXVlcnkuZmlsdGVycykge1xuICAgICAgcXVlcnkuZmlsdGVycy5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGZpbHRlcikgOiBmaWx0ZXJcbiAgICAgICAgZmluZFN0cmluZ1twYXJzZWQuZmllbGRdID0gcGFyc2VkLnZhbHVlXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHF1ZXJ5LnNvcnQgPT09ICdzdHJpbmcnKSBxdWVyeS5zb3J0ID0gSlNPTi5wYXJzZShxdWVyeS5zb3J0KVxuXG4gICAgaWYgKHF1ZXJ5LmZpeGVkU2VhcmNoKSB7XG4gICAgICBxdWVyeS5maXhlZFNlYXJjaCA9IEpTT04ucGFyc2UocXVlcnkuZml4ZWRTZWFyY2gpXG4gICAgICBmaW5kU3RyaW5nW3F1ZXJ5LmZpeGVkU2VhcmNoLmZpZWxkXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKHF1ZXJ5LmZpeGVkU2VhcmNoLnZhbHVlLCAnaScpIH1cbiAgICB9XG5cbiAgICBTdXNjcmlwY2lvbmVzLmZpbmQoZmluZFN0cmluZylcbiAgICAgIC5zb3J0KHF1ZXJ5LnNvcnQgJiYgeyBbcXVlcnkuc29ydC5maWVsZF06IHF1ZXJ5LnNvcnQubWV0aG9kID09PSAnZGVzYycgPyAtMSA6IDEgfSlcblxuICAgICAgLnRoZW4oKHN1c2NyaXBjaW9uKSA9PiB7XG4gICAgICAgIHJlc29sdmUocGFnaW5hdGUucGFnaW5hdGUoc3VzY3JpcGNpb24sIHsgcGFnZTogcXVlcnkucGFnZSwgbGltaXQ6IHF1ZXJ5LmxpbWl0IHx8IDEwIH0pKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIG9wdGlvbnMucmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlIHx8ICdTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIHJldHJpZXZpbmcgcmVjb3Jkcy4nLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgfSlcbn1cblxuLy8gRmluZCBhIHNpbmdsZSBzdXNjcmlwY2lvbiB3aXRoIGEgSURcbmV4cG9ydHMuZmluZE9uZSA9IChvcHRpb25zKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSB7IHBvcHVsYXRlOiAndHJ1ZScgfVxuICAgIGNvbnN0IGlkID0gb3B0aW9ucy5yZXEgPyBvcHRpb25zLnJlcS5wYXJhbXMuSUQgOiBvcHRpb25zLklEXG4gICAgU3VzY3JpcGNpb25lcy5maW5kQnlJZChpZClcblxuICAgICAgLnRoZW4oKHN1c2NyaXBjaW9uKSA9PiB7XG4gICAgICAgIGlmICghc3VzY3JpcGNpb24pIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnc3VzY3JpcGNpb24gbm90IGZvdW5kIHdpdGggaWQgJyArIGlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShwYWdpbmF0ZS5wYWdpbmF0ZShbc3VzY3JpcGNpb25dKSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBpZiAoZXJyLmtpbmQgPT09ICdPYmplY3RJZCcpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnc3VzY3JpcGNpb24gbm90IGZvdW5kIHdpdGggaWQgJyArIGlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciByZXRyaWV2aW5nIHN1c2NyaXBjaW9uIHdpdGggaWQgJyArIGlkLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgfSlcbn1cblxuLy8gVXBkYXRlIGEgc3VzY3JpcGNpb24gaWRlbnRpZmllZCBieSB0aGUgSUQgaW4gdGhlIHJlcXVlc3RcbmV4cG9ydHMudXBkYXRlID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpZCA9IG9wdGlvbnMucmVxID8gb3B0aW9ucy5yZXEucGFyYW1zLklEIDogb3B0aW9ucy5JRFxuICAgIGNvbnN0IGRhdGEgPSBvcHRpb25zLnJlcSA/IG9wdGlvbnMucmVxLmJvZHkgOiBvcHRpb25zLmRhdGFcbiAgICBjb25zdCB1cGRhdGVkRGF0YSA9IHt9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEuQ29udGFjdG8gIT09ICd1bmRlZmluZWQnKSB1cGRhdGVkRGF0YVsnQ29udGFjdG8nXSA9IGRhdGEuQ29udGFjdG9cblxuICAgIGlmICh0eXBlb2YgZGF0YS5FbWFpbCAhPT0gJ3VuZGVmaW5lZCcpIHVwZGF0ZWREYXRhWydFbWFpbCddID0gZGF0YS5FbWFpbFxuXG4gICAgaWYgKHR5cGVvZiBkYXRhLlRlbGVmb25vICE9PSAndW5kZWZpbmVkJykgdXBkYXRlZERhdGFbJ1RlbGVmb25vJ10gPSBkYXRhLlRlbGVmb25vXG5cbiAgICBpZiAodHlwZW9mIGRhdGEuUnVicm8gIT09ICd1bmRlZmluZWQnKSB1cGRhdGVkRGF0YVsnUnVicm8nXSA9IGRhdGEuUnVicm9cblxuICAgIGlmICh0eXBlb2YgZGF0YS5Qb3NlZXNvZnR3YXJlZGVHZXN0aW9uRG9jdW1lbnRhbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICB1cGRhdGVkRGF0YVsnUG9zZWVzb2Z0d2FyZWRlR2VzdGlvbkRvY3VtZW50YWwnXSA9IGRhdGEuUG9zZWVzb2Z0d2FyZWRlR2VzdGlvbkRvY3VtZW50YWxcblxuICAgIC8vIEZpbmQgc3VzY3JpcGNpb24gYW5kIHVwZGF0ZSBpdCB3aXRoIHRoZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCBxdWVyeSA9IHsgcG9wdWxhdGU6ICd0cnVlJyB9XG4gICAgU3VzY3JpcGNpb25lcy5maW5kQnlJZEFuZFVwZGF0ZShpZCwgdXBkYXRlZERhdGEsIHsgbmV3OiB0cnVlIH0pXG5cbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgcmVqZWN0KGVycilcbiAgICAgIH0pXG4gIH0pXG59XG5cbi8vIERlbGV0ZSBhIHN1c2NyaXBjaW9uIHdpdGggdGhlIHNwZWNpZmllZCBJRCBpbiB0aGUgcmVxdWVzdFxuZXhwb3J0cy5kZWxldGUgPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG9wdGlvbnMucmVxID8gb3B0aW9ucy5yZXEucGFyYW1zIDogb3B0aW9uc1xuICAgIGxldCB0aGVGaWx0ZXIgPSB7IF9pZDogcGFyYW1zLklEIH1cblxuICAgIGlmIChvcHRpb25zLnF1ZXJ5U3RyaW5nICYmIG9wdGlvbnMucXVlcnlGaWVsZCkge1xuICAgICAgdGhlRmlsdGVyID0geyBbb3B0aW9ucy5xdWVyeUZpZWxkXTogb3B0aW9ucy5xdWVyeVN0cmluZyB9XG4gICAgfVxuICAgIFN1c2NyaXBjaW9uZXMuZGVsZXRlTWFueSh0aGVGaWx0ZXIpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZWplY3QoZSlcbiAgICAgIH0pXG4gIH0pXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGtDQUFrQyxDQUFDO0FBQ2pFLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDdkMsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsNEJBQTRCLENBQUM7O0FBRXBEO0FBQ0FJLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHLE1BQU9DLE9BQU8sSUFBSztFQUNsQyxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQ0UsR0FBRyxHQUFHRixPQUFPLENBQUNFLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHSCxPQUFPLENBQUNDLElBQUk7RUFDMUQsTUFBTUcsV0FBVyxHQUFHLENBQUMsQ0FBQztFQUV0QixJQUFJLE9BQU9ILElBQUksQ0FBQ0ksUUFBUSxLQUFLLFdBQVcsRUFBRUQsV0FBVyxDQUFDLFVBQVUsQ0FBQyxHQUFHSCxJQUFJLENBQUNJLFFBQVE7RUFFakYsSUFBSSxPQUFPSixJQUFJLENBQUNLLEtBQUssS0FBSyxXQUFXLEVBQUVGLFdBQVcsQ0FBQyxPQUFPLENBQUMsR0FBR0gsSUFBSSxDQUFDSyxLQUFLO0VBRXhFLElBQUksT0FBT0wsSUFBSSxDQUFDTSxRQUFRLEtBQUssV0FBVyxFQUFFSCxXQUFXLENBQUMsVUFBVSxDQUFDLEdBQUdILElBQUksQ0FBQ00sUUFBUTtFQUVqRixJQUFJLE9BQU9OLElBQUksQ0FBQ08sS0FBSyxLQUFLLFdBQVcsRUFBRUosV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHSCxJQUFJLENBQUNPLEtBQUs7RUFFeEUsSUFBSSxPQUFPUCxJQUFJLENBQUNRLGdDQUFnQyxLQUFLLFdBQVcsRUFDOURMLFdBQVcsQ0FBQyxrQ0FBa0MsQ0FBQyxHQUFHSCxJQUFJLENBQUNRLGdD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","map":{"version":3,"names":["Suscripciones","require","fs","paginate","errors","exports","create","options","data","req","body","updatedData","Contacto","Email","Telefono","Rubro","PoseesoftwaredeGestionDocumental","suscripcion","save","then","findOne","ID","_id","res","catch","err","status","send","message","createAsPromise","Promise","resolve","reject","result","skipfind","prepareError","findAll","query","populate","sort","JSON","parse","findString","fixedSearch","field","$regex","RegExp","value","find","method","suscripciones","json","page","limit","searchString","$text","$search","searchField","schema","path","instance","$expr","$eq","$dateToString","date","format","Types","ObjectId","filters","forEach","filter","parsed","id","params","findById","kind","update","findByIdAndUpdate","new","delete","theFilter","queryString","queryField","deleteMany","e"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/controllers/","sources":["suscripciones.controller.js"],"sourcesContent":["const Suscripciones = require('../models/suscripciones.model.js')\nconst fs = require('fs')\nconst paginate = require('../paginate')\nconst errors = require('../services/errors.service')\n\n// Create and Save a new suscripcion\nexports.create = async (options) => {\n  const data = options.req ? options.req.body : options.data\n  const updatedData = {}\n\n  if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto\n\n  if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email\n\n  if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono\n\n  if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro\n\n  if (typeof data.PoseesoftwaredeGestionDocumental !== 'undefined')\n    updatedData['PoseesoftwaredeGestionDocumental'] = data.PoseesoftwaredeGestionDocumental\n\n  // Create a suscripcion\n  const suscripcion = new Suscripciones(updatedData)\n\n  // Save suscripcion in the database\n  suscripcion\n    .save()\n    .then((data) => {\n      exports.findOne({ ID: data._id, res: options.res })\n    })\n    .catch((err) => {\n      options.res.status(500).send({\n        message: err.message || 'Some error occurred while saving the record.',\n      })\n    })\n}\n\nexports.createAsPromise = (options) => {\n  return new Promise(async (resolve, reject) => {\n    const data = options.req ? options.req.body : options.data\n    const updatedData = {}\n    if (data._id) updatedData._id = data._id\n\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto\n\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email\n\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono\n\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro\n\n    if (typeof data.PoseesoftwaredeGestionDocumental !== 'undefined')\n      updatedData['PoseesoftwaredeGestionDocumental'] = data.PoseesoftwaredeGestionDocumental\n\n    // Create a suscripcion\n    const suscripcion = new Suscripciones(updatedData)\n\n    // Save suscripcion in the database\n    suscripcion\n      .save()\n      .then((result) => {\n        if (options.skipfind) {\n          resolve(result)\n        } else {\n          exports.findOne({ ID: result._id, res: options.res }).then((result) => {\n            resolve(result)\n          })\n        }\n      })\n      .catch((err) => {\n        reject(errors.prepareError(err))\n      })\n  })\n}\n\n// Retrieve and return all Suscripciones from the database.\nexports.findAll = (options) => {\n  const query = options.query ? options.query : options.req.query\n  if (typeof query.populate === 'undefined') query.populate = 'true'\n  const data = options.req ? options.req.body : options.data\n  if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort)\n\n  const findString = {}\n  if (query.fixedSearch) {\n    query.fixedSearch = JSON.parse(query.fixedSearch)\n    findString[query.fixedSearch.field] = { $regex: new RegExp(query.fixedSearch.value, 'i') }\n  }\n\n  Suscripciones.find(findString)\n    .sort(query.sort && { [query.sort.field]: query.sort.method === 'desc' ? -1 : 1 })\n\n    .then((suscripciones) => {\n      options.res.json(paginate.paginate(suscripciones, { page: query.page, limit: query.limit || 10 }))\n    })\n    .catch((err) => {\n      options.res.status(500).send({\n        message: err.message || 'Some error occurred while retrieving records.',\n      })\n    })\n}\n\nexports.find = (options) => {\n  return new Promise((resolve, reject) => {\n    const query = options.query ? options.query : options.req.query\n    const data = options.req ? options.req.body : options.data\n    let findString = query.searchString ? { $text: { $search: query.searchString } } : {}\n    if (query.searchField) {\n      if (Suscripciones.schema.path(query.searchField).instance === 'Boolean') {\n        findString = { [query.searchField]: JSON.parse(query.searchString) }\n      } else if (Suscripciones.schema.path(query.searchField).instance === 'Date') {\n        findString = { $expr: { $eq: [query.searchString, { $dateToString: { date: `$${query.searchField}`, format: '%Y-%m-%d' } }] } }\n      } else {\n        findString = { [query.searchField]: { $regex: new RegExp(query.searchString, 'i') } }\n      }\n\n      if (Suscripciones.schema.path(query.searchField).instance === 'ObjectID' || Suscripciones.schema.path(query.searchField).instance === 'Array') {\n        findString = { [query.searchField]: require('mongoose').Types.ObjectId(query.searchString) }\n      }\n    } else if (query.filters) {\n      query.filters.forEach((filter) => {\n        const parsed = typeof filter === 'string' ? JSON.parse(filter) : filter\n        findString[parsed.field] = parsed.value\n      })\n    }\n    if (typeof query.sort === 'string') query.sort = JSON.parse(query.sort)\n\n    if (query.fixedSearch) {\n      query.fixedSearch = JSON.parse(query.fixedSearch)\n      findString[query.fixedSearch.field] = { $regex: new RegExp(query.fixedSearch.value, 'i') }\n    }\n\n    Suscripciones.find(findString)\n      .sort(query.sort && { [query.sort.field]: query.sort.method === 'desc' ? -1 : 1 })\n\n      .then((suscripcion) => {\n        resolve(paginate.paginate(suscripcion, { page: query.page, limit: query.limit || 10 }))\n      })\n      .catch((err) => {\n        options.res.status(500).send({\n          message: err.message || 'Some error occurred while retrieving records.',\n        })\n      })\n  })\n}\n\n// Find a single suscripcion with a ID\nexports.findOne = (options) => {\n  return new Promise((resolve, reject) => {\n    const query = { populate: 'true' }\n    const id = options.req ? options.req.params.ID : options.ID\n    Suscripciones.findById(id)\n\n      .then((suscripcion) => {\n        if (!suscripcion) {\n          return options.res.status(404).send({\n            message: 'suscripcion not found with id ' + id,\n          })\n        }\n        resolve(paginate.paginate([suscripcion]))\n      })\n      .catch((err) => {\n        if (err.kind === 'ObjectId') {\n          return options.res.status(404).send({\n            message: 'suscripcion not found with id ' + id,\n          })\n        }\n        return options.res.status(500).send({\n          message: 'Error retrieving suscripcion with id ' + id,\n        })\n      })\n  })\n}\n\n// Update a suscripcion identified by the ID in the request\nexports.update = (options) => {\n  return new Promise(async (resolve, reject) => {\n    const id = options.req ? options.req.params.ID : options.ID\n    const data = options.req ? options.req.body : options.data\n    const updatedData = {}\n\n    if (typeof data.Contacto !== 'undefined') updatedData['Contacto'] = data.Contacto\n\n    if (typeof data.Email !== 'undefined') updatedData['Email'] = data.Email\n\n    if (typeof data.Telefono !== 'undefined') updatedData['Telefono'] = data.Telefono\n\n    if (typeof data.Rubro !== 'undefined') updatedData['Rubro'] = data.Rubro\n\n    if (typeof data.PoseesoftwaredeGestionDocumental !== 'undefined')\n      updatedData['PoseesoftwaredeGestionDocumental'] = data.PoseesoftwaredeGestionDocumental\n\n    // Find suscripcion and update it with the request body\n    const query = { populate: 'true' }\n    Suscripciones.findByIdAndUpdate(id, updatedData, { new: true })\n\n      .then((result) => {\n        resolve(result)\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n\n// Delete a suscripcion with the specified ID in the request\nexports.delete = (options) => {\n  return new Promise((resolve, reject) => {\n    const params = options.req ? options.req.params : options\n    let theFilter = { _id: params.ID }\n\n    if (options.queryString && options.queryField) {\n      theFilter = { [options.queryField]: options.queryString }\n    }\n    Suscripciones.deleteMany(theFilter)\n      .then((result) => {\n        resolve(result)\n      })\n      .catch((e) => {\n        reject(e)\n      })\n  })\n}\n"],"mappings":"AAAA,MAAMA,aAAa,GAAGC,OAAO,CAAC,kCAAkC,CAAC;AACjE,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAI,CAAC;AACxB,MAAME,QAAQ,GAAGF,OAAO,CAAC,aAAa,CAAC;AACvC,MAAMG,MAAM,GAAGH,OAAO,CAAC,4BAA4B,CAAC;;AAEpD;AACAI,OAAO,CAACC,MAAM,GAAG,MAAOC,OAAO,IAAK;EAClC,MAAMC,IAAI,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,IAAI,GAAGH,OAAO,CAACC,IAAI;EAC1D,MAAMG,WAAW,GAAG,CAAC,CAAC;EAEtB,IAAI,OAAOH,IAAI,CAACI,QAAQ,KAAK,WAAW,EAAED,WAAW,CAAC,UAAU,CAAC,GAAGH,IAAI,CAACI,QAAQ;EAEjF,IAAI,OAAOJ,IAAI,CAACK,KAAK,KAAK,WAAW,EAAEF,WAAW,CAAC,OAAO,CAAC,GAAGH,IAAI,CAACK,KAAK;EAExE,IAAI,OAAOL,IAAI,CAACM,QAAQ,KAAK,WAAW,EAAEH,WAAW,CAAC,UAAU,CAAC,GAAGH,IAAI,CAACM,QAAQ;EAEjF,IAAI,OAAON,IAAI,CAACO,KAAK,KAAK,WAAW,EAAEJ,WAAW,CAAC,OAAO,CAAC,GAAGH,IAAI,CAACO,KAAK;EAExE,IAAI,OAAOP,IAAI,CAACQ,gCAAgC,KAAK,WAAW,EAC9DL,WAAW,CAAC,kCAAkC,CAAC,GAAGH,IAAI,CAACQ,gCAAgC;;EAEzF;EACA,MAAMC,WAAW,GAAG,IAAIjB,aAAa,CAACW,WAAW,CAAC;;EAElD;EACAM,WAAW,CACRC,IAAI,CAAC,CAAC,CACNC,IAAI,CAAEX,IAAI,IAAK;IACdH,OAAO,CAACe,OAAO,CAAC;MAAEC,EAAE,EAAEb,IAAI,CAACc,GAAG;MAAEC,GAAG,EAAEhB,OAAO,CAACgB;IAAI,CAAC,CAAC;EACrD,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;IACdlB,OAAO,CAACgB,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC3BC,OAAO,EAAEH,GAAG,CAACG,OAAO,IAAI;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC;AACN,CAAC;AAEDvB,OAAO,CAACwB,eAAe,GAAItB,OAAO,IAAK;EACrC,OAAO,IAAIuB,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;IAC5C,MAAMxB,IAAI,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,IAAI,GAAGH,OAAO,CAACC,IAAI;IAC1D,MAAMG,WAAW,GAAG,CAAC,CAAC;IACtB,IAAIH,IAAI,CAACc,GAAG,EAAEX,WAAW,CAACW,GAAG,GAAGd,IAAI,CAACc,GAAG;IAExC,IAAI,OAAOd,IAAI,CAACI,QAAQ,KAAK,WAAW,EAAED,WAAW,CAAC,UAAU,CAAC,GAAGH,IAAI,CAACI,QAAQ;IAEjF,IAAI,OAAOJ,IAAI,CAACK,KAAK,KAAK,WAAW,EAAEF,WAAW,CAAC,OAAO,CAAC,GAAGH,IAAI,CAACK,KAAK;IAExE,IAAI,OAAOL,IAAI,CAACM,QAAQ,KAAK,WAAW,EAAEH,WAAW,CAAC,UAAU,CAAC,GAAGH,IAAI,CAACM,QAAQ;IAEjF,IAAI,OAAON,IAAI,CAACO,KAAK,KAAK,WAAW,EAAEJ,WAAW,CAAC,OAAO,CAAC,GAAGH,IAAI,CAACO,KAAK;IAExE,IAAI,OAAOP,IAAI,CAACQ,gCAAgC,KAAK,WAAW,EAC9DL,WAAW,CAAC,kCAAkC,CAAC,GAAGH,IAAI,CAACQ,gCAAgC;;IAEzF;IACA,MAAMC,WAAW,GAAG,IAAIjB,aAAa,CAACW,WAAW,CAAC;;IAElD;IACAM,WAAW,CACRC,IAAI,CAAC,CAAC,CACNC,IAAI,CAAEc,MAAM,IAAK;MAChB,IAAI1B,OAAO,CAAC2B,QAAQ,EAAE;QACpBH,OAAO,CAACE,MAAM,CAAC;MACjB,CAAC,MAAM;QACL5B,OAAO,CAACe,OAAO,CAAC;UAAEC,EAAE,EAAEY,MAAM,CAACX,GAAG;UAAEC,GAAG,EAAEhB,OAAO,CAACgB;QAAI,CAAC,CAAC,CAACJ,IAAI,CAAEc,MAAM,IAAK;UACrEF,OAAO,CAACE,MAAM,CAAC;QACjB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,CACDT,KAAK,CAAEC,GAAG,IAAK;MACdO,MAAM,CAAC5B,MAAM,CAAC+B,YAAY,CAACV,GAAG,CAAC,CAAC;IAClC,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;;AAED;AACApB,OAAO,CAAC+B,OAAO,GAAI7B,OAAO,IAAK;EAC7B,MAAM8B,KAAK,GAAG9B,OAAO,CAAC8B,KAAK,GAAG9B,OAAO,CAAC8B,KAAK,GAAG9B,OAAO,CAACE,GAAG,CAAC4B,KAAK;EAC/D,IAAI,OAAOA,KAAK,CAACC,QAAQ,KAAK,WAAW,EAAED,KAAK,CAACC,QAAQ,GAAG,MAAM;EAClE,MAAM9B,IAAI,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,IAAI,GAAGH,OAAO,CAACC,IAAI;EAC1D,IAAI,OAAO6B,KAAK,CAACE,IAAI,KAAK,QAAQ,EAAEF,KAAK,CAACE,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACE,IAAI,CAAC;EAEvE,MAAMG,UAAU,GAAG,CAAC,CAAC;EACrB,IAAIL,KAAK,CAACM,WAAW,EAAE;IACrBN,KAAK,CAACM,WAAW,GAAGH,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACM,WAAW,CAAC;IACjDD,UAAU,CAACL,KAAK,CAACM,WAAW,CAACC,KAAK,CAAC,GAAG;MAAEC,MAAM,EAAE,IAAIC,MAAM,CAACT,KAAK,CAACM,WAAW,CAACI,KAAK,EAAE,GAAG;IAAE,CAAC;EAC5F;EAEA/C,aAAa,CAACgD,IAAI,CAACN,UAAU,CAAC,CAC3BH,IAAI,CAACF,KAAK,CAACE,IAAI,IAAI;IAAE,CAACF,KAAK,CAACE,IAAI,CAACK,KAAK,GAAGP,KAAK,CAACE,IAAI,CAACU,MAAM,KAAK,MAAM,GAAG,CAAC,CAAC,GAAG;EAAE,CAAC,CAAC,CAEjF9B,IAAI,CAAE+B,aAAa,IAAK;IACvB3C,OAAO,CAACgB,GAAG,CAAC4B,IAAI,CAAChD,QAAQ,CAACA,QAAQ,CAAC+C,aAAa,EAAE;MAAEE,IAAI,EAAEf,KAAK,CAACe,IAAI;MAAEC,KAAK,EAAEhB,KAAK,CAACgB,KAAK,IAAI;IAAG,CAAC,CAAC,CAAC;EACpG,CAAC,CAAC,CACD7B,KAAK,CAAEC,GAAG,IAAK;IACdlB,OAAO,CAACgB,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC3BC,OAAO,EAAEH,GAAG,CAACG,OAAO,IAAI;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC;AACN,CAAC;AAEDvB,OAAO,CAAC2C,IAAI,GAAIzC,OAAO,IAAK;EAC1B,OAAO,IAAIuB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMK,KAAK,GAAG9B,OAAO,CAAC8B,KAAK,GAAG9B,OAAO,CAAC8B,KAAK,GAAG9B,OAAO,CAACE,GAAG,CAAC4B,KAAK;IAC/D,MAAM7B,IAAI,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,IAAI,GAAGH,OAAO,CAACC,IAAI;IAC1D,IAAIkC,UAAU,GAAGL,KAAK,CAACiB,YAAY,GAAG;MAAEC,KAAK,EAAE;QAAEC,OAAO,EAAEnB,KAAK,CAACiB;MAAa;IAAE,CAAC,GAAG,CAAC,CAAC;IACrF,IAAIjB,KAAK,CAACoB,WAAW,EAAE;MACrB,IAAIzD,aAAa,CAAC0D,MAAM,CAACC,IAAI,CAACtB,KAAK,CAACoB,WAAW,CAAC,CAACG,QAAQ,KAAK,SAAS,EAAE;QACvElB,UAAU,GAAG;UAAE,CAACL,KAAK,CAACoB,WAAW,GAAGjB,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACiB,YAAY;QAAE,CAAC;MACtE,CAAC,MAAM,IAAItD,aAAa,CAAC0D,MAAM,CAACC,IAAI,CAACtB,KAAK,CAACoB,WAAW,CAAC,CAACG,QAAQ,KAAK,MAAM,EAAE;QAC3ElB,UAAU,GAAG;UAAEmB,KAAK,EAAE;YAAEC,GAAG,EAAE,CAACzB,KAAK,CAACiB,YAAY,EAAE;cAAES,aAAa,EAAE;gBAAEC,IAAI,EAAG,IAAG3B,KAAK,CAACoB,WAAY,EAAC;gBAAEQ,MAAM,EAAE;cAAW;YAAE,CAAC;UAAE;QAAE,CAAC;MACjI,CAAC,MAAM;QACLvB,UAAU,GAAG;UAAE,CAACL,KAAK,CAACoB,WAAW,GAAG;YAAEZ,MAAM,EAAE,IAAIC,MAAM,CAACT,KAAK,CAACiB,YAAY,EAAE,GAAG;UAAE;QAAE,CAAC;MACvF;MAEA,IAAItD,aAAa,CAAC0D,MAAM,CAACC,IAAI,CAACtB,KAAK,CAACoB,WAAW,CAAC,CAACG,QAAQ,KAAK,UAAU,IAAI5D,aAAa,CAAC0D,MAAM,CAACC,IAAI,CAACtB,KAAK,CAACoB,WAAW,CAAC,CAACG,QAAQ,KAAK,OAAO,EAAE;QAC7IlB,UAAU,GAAG;UAAE,CAACL,KAAK,CAACoB,WAAW,GAAGxD,OAAO,CAAC,UAAU,CAAC,CAACiE,KAAK,CAACC,QAAQ,CAAC9B,KAAK,CAACiB,YAAY;QAAE,CAAC;MAC9F;IACF,CAAC,MAAM,IAAIjB,KAAK,CAAC+B,OAAO,EAAE;MACxB/B,KAAK,CAAC+B,OAAO,CAACC,OAAO,CAAEC,MAAM,IAAK;QAChC,MAAMC,MAAM,GAAG,OAAOD,MAAM,KAAK,QAAQ,GAAG9B,IAAI,CAACC,KAAK,CAAC6B,MAAM,CAAC,GAAGA,MAAM;QACvE5B,UAAU,CAAC6B,MAAM,CAAC3B,KAAK,CAAC,GAAG2B,MAAM,CAACxB,KAAK;MACzC,CAAC,CAAC;IACJ;IACA,IAAI,OAAOV,KAAK,CAACE,IAAI,KAAK,QAAQ,EAAEF,KAAK,CAACE,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACE,IAAI,CAAC;IAEvE,IAAIF,KAAK,CAACM,WAAW,EAAE;MACrBN,KAAK,CAACM,WAAW,GAAGH,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACM,WAAW,CAAC;MACjDD,UAAU,CAACL,KAAK,CAACM,WAAW,CAACC,KAAK,CAAC,GAAG;QAAEC,MAAM,EAAE,IAAIC,MAAM,CAACT,KAAK,CAACM,WAAW,CAACI,KAAK,EAAE,GAAG;MAAE,CAAC;IAC5F;IAEA/C,aAAa,CAACgD,IAAI,CAACN,UAAU,CAAC,CAC3BH,IAAI,CAACF,KAAK,CAACE,IAAI,IAAI;MAAE,CAACF,KAAK,CAACE,IAAI,CAACK,KAAK,GAAGP,KAAK,CAACE,IAAI,CAACU,MAAM,KAAK,MAAM,GAAG,CAAC,CAAC,GAAG;IAAE,CAAC,CAAC,CAEjF9B,IAAI,CAAEF,WAAW,IAAK;MACrBc,OAAO,CAAC5B,QAAQ,CAACA,QAAQ,CAACc,WAAW,EAAE;QAAEmC,IAAI,EAAEf,KAAK,CAACe,IAAI;QAAEC,KAAK,EAAEhB,KAAK,CAACgB,KAAK,IAAI;MAAG,CAAC,CAAC,CAAC;IACzF,CAAC,CAAC,CACD7B,KAAK,CAAEC,GAAG,IAAK;MACdlB,OAAO,CAACgB,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC3BC,OAAO,EAAEH,GAAG,CAACG,OAAO,IAAI;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;;AAED;AACAvB,OAAO,CAACe,OAAO,GAAIb,OAAO,IAAK;EAC7B,OAAO,IAAIuB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMK,KAAK,GAAG;MAAEC,QAAQ,EAAE;IAAO,CAAC;IAClC,MAAMkC,EAAE,GAAGjE,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACgE,MAAM,CAACpD,EAAE,GAAGd,OAAO,CAACc,EAAE;IAC3DrB,aAAa,CAAC0E,QAAQ,CAACF,EAAE,CAAC,CAEvBrD,IAAI,CAAEF,WAAW,IAAK;MACrB,IAAI,CAACA,WAAW,EAAE;QAChB,OAAOV,OAAO,CAACgB,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAClCC,OAAO,EAAE,gCAAgC,GAAG4C;QAC9C,CAAC,CAAC;MACJ;MACAzC,OAAO,CAAC5B,QAAQ,CAACA,QAAQ,CAAC,CAACc,WAAW,CAAC,CAAC,CAAC;IAC3C,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAG,IAAK;MACd,IAAIA,GAAG,CAACkD,IAAI,KAAK,UAAU,EAAE;QAC3B,OAAOpE,OAAO,CAACgB,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAClCC,OAAO,EAAE,gCAAgC,GAAG4C;QAC9C,CAAC,CAAC;MACJ;MACA,OAAOjE,OAAO,CAACgB,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAClCC,OAAO,EAAE,uCAAuC,GAAG4C;MACrD,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;;AAED;AACAnE,OAAO,CAACuE,MAAM,GAAIrE,OAAO,IAAK;EAC5B,OAAO,IAAIuB,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;IAC5C,MAAMwC,EAAE,GAAGjE,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACgE,MAAM,CAACpD,EAAE,GAAGd,OAAO,CAACc,EAAE;IAC3D,MAAMb,IAAI,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,IAAI,GAAGH,OAAO,CAACC,IAAI;IAC1D,MAAMG,WAAW,GAAG,CAAC,CAAC;IAEtB,IAAI,OAAOH,IAAI,CAACI,QAAQ,KAAK,WAAW,EAAED,WAAW,CAAC,UAAU,CAAC,GAAGH,IAAI,CAACI,QAAQ;IAEjF,IAAI,OAAOJ,IAAI,CAACK,KAAK,KAAK,WAAW,EAAEF,WAAW,CAAC,OAAO,CAAC,GAAGH,IAAI,CAACK,KAAK;IAExE,IAAI,OAAOL,IAAI,CAACM,QAAQ,KAAK,WAAW,EAAEH,WAAW,CAAC,UAAU,CAAC,GAAGH,IAAI,CAACM,QAAQ;IAEjF,IAAI,OAAON,IAAI,CAACO,KAAK,KAAK,WAAW,EAAEJ,WAAW,CAAC,OAAO,CAAC,GAAGH,IAAI,CAACO,KAAK;IAExE,IAAI,OAAOP,IAAI,CAACQ,gCAAgC,KAAK,WAAW,EAC9DL,WAAW,CAAC,kCAAkC,CAAC,GAAGH,IAAI,CAACQ,gCAAgC;;IAEzF;IACA,MAAMqB,KAAK,GAAG;MAAEC,QAAQ,EAAE;IAAO,CAAC;IAClCtC,aAAa,CAAC6E,iBAAiB,CAACL,EAAE,EAAE7D,WAAW,EAAE;MAAEmE,GAAG,EAAE;IAAK,CAAC,CAAC,CAE5D3D,IAAI,CAAEc,MAAM,IAAK;MAChBF,OAAO,CAACE,MAAM,CAAC;IACjB,CAAC,CAAC,CACDT,KAAK,CAAEC,GAAG,IAAK;MACdO,MAAM,CAACP,GAAG,CAAC;IACb,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;;AAED;AACApB,OAAO,CAAC0E,MAAM,GAAIxE,OAAO,IAAK;EAC5B,OAAO,IAAIuB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMyC,MAAM,GAAGlE,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACgE,MAAM,GAAGlE,OAAO;IACzD,IAAIyE,SAAS,GAAG;MAAE1D,GAAG,EAAEmD,MAAM,CAACpD;IAAG,CAAC;IAElC,IAAId,OAAO,CAAC0E,WAAW,IAAI1E,OAAO,CAAC2E,UAAU,EAAE;MAC7CF,SAAS,GAAG;QAAE,CAACzE,OAAO,CAAC2E,UAAU,GAAG3E,OAAO,CAAC0E;MAAY,CAAC;IAC3D;IACAjF,aAAa,CAACmF,UAAU,CAACH,SAAS,CAAC,CAChC7D,IAAI,CAAEc,MAAM,IAAK;MAChBF,OAAO,CAACE,MAAM,CAAC;IACjB,CAAC,CAAC,CACDT,KAAK,CAAE4D,CAAC,IAAK;MACZpD,MAAM,CAACoD,CAAC,CAAC;IACX,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC"}},"mtime":1691454529165},"{\"assumptions\":{},\"sourceRoot\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"filename\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/models/suscripciones.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavo/Aptugo/builds/suscripcioncoprinter\",\"plugins\":[],\"presets\":[]}:7.13.10:development":{"value":{"code":"const mongoose = require('mongoose');\nconst mongoosePaginate = require('mongoose-paginate-v2');\nconst SuscripcionesSchema = mongoose.Schema({\n  Contacto: {\n    type: String\n  },\n  Email: {\n    type: String\n  },\n  Telefono: Number,\n  Rubro: String,\n  PoseesoftwaredeGestionDocumental: Boolean\n}, {\n  timestamps: true,\n  toJSON: {\n    virtuals: true\n  }\n});\nSuscripcionesSchema.plugin(mongoosePaginate);\nSuscripcionesSchema.index({\n  Contacto: 'text',\n  Email: 'text',\n  Telefono: 'text',\n  Rubro: 'text',\n  PoseesoftwaredeGestionDocumental: 'text'\n});\nconst myModel = module.exports = mongoose.model('Suscripciones', SuscripcionesSchema, 'suscripciones');\nmyModel.schema = SuscripcionesSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJtb25nb29zZVBhZ2luYXRlIiwiU3VzY3JpcGNpb25lc1NjaGVtYSIsIlNjaGVtYSIsIkNvbnRhY3RvIiwidHlwZSIsIlN0cmluZyIsIkVtYWlsIiwiVGVsZWZvbm8iLCJOdW1iZXIiLCJSdWJybyIsIlBvc2Vlc29mdHdhcmVkZUdlc3Rpb25Eb2N1bWVudGFsIiwiQm9vbGVhbiIsInRpbWVzdGFtcHMiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInBsdWdpbiIsImluZGV4IiwibXlNb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCIsInNjaGVtYSJdLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2by9BcHR1Z28vYnVpbGRzL3N1c2NyaXBjaW9uY29wcmludGVyL2JhY2stZW5kL2FwcC9tb2RlbHMvIiwic291cmNlcyI6WyJzdXNjcmlwY2lvbmVzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxuY29uc3QgbW9uZ29vc2VQYWdpbmF0ZSA9IHJlcXVpcmUoJ21vbmdvb3NlLXBhZ2luYXRlLXYyJylcblxuY29uc3QgU3VzY3JpcGNpb25lc1NjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIENvbnRhY3RvOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcblxuICAgIEVtYWlsOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgICBUZWxlZm9ubzogTnVtYmVyLFxuICAgIFJ1YnJvOiBTdHJpbmcsXG4gICAgUG9zZWVzb2Z0d2FyZWRlR2VzdGlvbkRvY3VtZW50YWw6IEJvb2xlYW4sXG4gIH0sXG4gIHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxuICAgIHRvSlNPTjogeyB2aXJ0dWFsczogdHJ1ZSB9LFxuICB9XG4pXG5cblN1c2NyaXBjaW9uZXNTY2hlbWEucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpXG5TdXNjcmlwY2lvbmVzU2NoZW1hLmluZGV4KHtcbiAgQ29udGFjdG86ICd0ZXh0JyxcbiAgRW1haWw6ICd0ZXh0JyxcbiAgVGVsZWZvbm86ICd0ZXh0JyxcbiAgUnVicm86ICd0ZXh0JyxcbiAgUG9zZWVzb2Z0d2FyZWRlR2VzdGlvbkRvY3VtZW50YWw6ICd0ZXh0Jyxcbn0pXG5cbmNvbnN0IG15TW9kZWwgPSAobW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnU3VzY3JpcGNpb25lcycsIFN1c2NyaXBjaW9uZXNTY2hlbWEsICdzdXNjcmlwY2lvbmVzJykpXG5teU1vZGVsLnNjaGVtYSA9IFN1c2NyaXBjaW9uZXNTY2hlbWFcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLGdCQUFnQixHQUFHRCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFFeEQsTUFBTUUsbUJBQW1CLEdBQUdILFFBQVEsQ0FBQ0ksTUFBTSxDQUN6QztFQUNFQyxRQUFRLEVBQUU7SUFDUkMsSUFBSSxFQUFFQztFQUNSLENBQUM7RUFFREMsS0FBSyxFQUFFO0lBQ0xGLElBQUksRUFBRUM7RUFDUixDQUFDO0VBQ0RFLFFBQVEsRUFBRUMsTUFBTTtFQUNoQkMsS0FBSyxFQUFFSixNQUFNO0VBQ2JLLGdDQUFnQyxFQUFFQztBQUNwQyxDQUFDLEVBQ0Q7RUFDRUMsVUFBVSxFQUFFLElBQUk7RUFDaEJDLE1BQU0sRUFBRTtJQUFFQyxRQUFRLEVBQUU7RUFBSztBQUMzQixDQUNGLENBQUM7QUFFRGIsbUJBQW1CLENBQUNjLE1BQU0sQ0FBQ2YsZ0JBQWdCLENBQUM7QUFDNUNDLG1CQUFtQixDQUFDZSxLQUFLLENBQUM7RUFDeEJiLFFBQVEsRUFBRSxNQUFNO0VBQ2hCRyxLQUFLLEVBQUUsTUFBTTtFQUNiQyxRQUFRLEVBQUUsTUFBTTtFQUNoQkUsS0FBSyxFQUFFLE1BQU07RUFDYkMsZ0NBQWdDLEVBQUU7QUFDcEMsQ0FBQyxDQUFDO0FBRUYsTUFBTU8sT0FBTyxHQUFJQyxNQUFNLENBQUNDLE9BQU8sR0FBR3JCLFFBQVEsQ0FBQ3NCLEtBQUssQ0FBQyxlQUFlLEVBQUVuQixtQkFBbUIsRUFBRSxlQUFlLENBQUU7QUFDeEdnQixPQUFPLENBQUNJLE1BQU0sR0FBR3BCLG1CQUFtQiJ9","map":{"version":3,"names":["mongoose","require","mongoosePaginate","SuscripcionesSchema","Schema","Contacto","type","String","Email","Telefono","Number","Rubro","PoseesoftwaredeGestionDocumental","Boolean","timestamps","toJSON","virtuals","plugin","index","myModel","module","exports","model","schema"],"sourceRoot":"/home/gustavo/Aptugo/builds/suscripcioncoprinter/back-end/app/models/","sources":["suscripciones.model.js"],"sourcesContent":["const mongoose = require('mongoose')\nconst mongoosePaginate = require('mongoose-paginate-v2')\n\nconst SuscripcionesSchema = mongoose.Schema(\n  {\n    Contacto: {\n      type: String,\n    },\n\n    Email: {\n      type: String,\n    },\n    Telefono: Number,\n    Rubro: String,\n    PoseesoftwaredeGestionDocumental: Boolean,\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n  }\n)\n\nSuscripcionesSchema.plugin(mongoosePaginate)\nSuscripcionesSchema.index({\n  Contacto: 'text',\n  Email: 'text',\n  Telefono: 'text',\n  Rubro: 'text',\n  PoseesoftwaredeGestionDocumental: 'text',\n})\n\nconst myModel = (module.exports = mongoose.model('Suscripciones', SuscripcionesSchema, 'suscripciones'))\nmyModel.schema = SuscripcionesSchema\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,gBAAgB,GAAGD,OAAO,CAAC,sBAAsB,CAAC;AAExD,MAAME,mBAAmB,GAAGH,QAAQ,CAACI,MAAM,CACzC;EACEC,QAAQ,EAAE;IACRC,IAAI,EAAEC;EACR,CAAC;EAEDC,KAAK,EAAE;IACLF,IAAI,EAAEC;EACR,CAAC;EACDE,QAAQ,EAAEC,MAAM;EAChBC,KAAK,EAAEJ,MAAM;EACbK,gCAAgC,EAAEC;AACpC,CAAC,EACD;EACEC,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAK;AAC3B,CACF,CAAC;AAEDb,mBAAmB,CAACc,MAAM,CAACf,gBAAgB,CAAC;AAC5CC,mBAAmB,CAACe,KAAK,CAAC;EACxBb,QAAQ,EAAE,MAAM;EAChBG,KAAK,EAAE,MAAM;EACbC,QAAQ,EAAE,MAAM;EAChBE,KAAK,EAAE,MAAM;EACbC,gCAAgC,EAAE;AACpC,CAAC,CAAC;AAEF,MAAMO,OAAO,GAAIC,MAAM,CAACC,OAAO,GAAGrB,QAAQ,CAACsB,KAAK,CAAC,eAAe,EAAEnB,mBAAmB,EAAE,eAAe,CAAE;AACxGgB,OAAO,CAACI,MAAM,GAAGpB,mBAAmB"}},"mtime":1691454547713}}